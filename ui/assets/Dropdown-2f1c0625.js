var P=Object.defineProperty;var s=(e,n)=>P(e,"name",{value:n,configurable:!0});import{j as l}from"./jsx-runtime-91e341d4.js";import{r as t}from"./index-b56a0300.js";import{u as m}from"./styled-components.browser.esm-dd68fb2f.js";import{p as r}from"./index-6925154b.js";const D=s((e,n)=>{const[d,o]=t.useState(!0);return t.useEffect(()=>{function i(){o(!1)}return s(i,"handleOpened"),n?e==null||e.addEventListener("transitionend",i,{once:!0}):o(!0),()=>{o(!0),e==null||e.removeEventListener("transitionend",i)}},[n,e]),d},"useOverflowHidden"),H=m.div.withConfig({componentId:"sc-18b45p-0"})([""]),j=m.div.withConfig({componentId:"sc-18b45p-1"})(["--color:",";color:var(--dropdown-trigger-color,--color);cursor:pointer;&[aria-disabled='true']{--dropdown-trigger-color:",";}"],({theme:e})=>e.color.ink.base,({theme:e})=>e.color.actionBrand.disabled),k=m.div.withConfig({componentId:"sc-18b45p-2"})(["overflow:",";max-height:var(--dropdown-content-initial-height,0);transition:",";[aria-expanded='true'] + &{max-height:",";}"],({$isOverflowHidden:e})=>e?"hidden":"visible",({theme:e})=>e.transition.dropdown,({$height:e})=>e),T={className:r.PropTypes.string,id:r.PropTypes.string,trigger:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.node]).isRequired,children:r.PropTypes.node.isRequired,isOpen:r.PropTypes.bool,disabled:r.PropTypes.bool,onInteract:r.PropTypes.func},u=s(({id:e,className:n,trigger:d,children:o,isOpen:i=!1,disabled:a=!1,onInteract:f})=>{const[_,x]=t.useState("min-content"),w=`__dropdown_${e}_trigger__`,y=`__dropdown_${e}_content__`,h=t.useRef(null),p=h.current,c=t.useCallback(()=>{x(`${(p==null?void 0:p.scrollHeight)||0}px`)},[p]);t.useEffect(()=>{c()},[o,p,c]),t.useEffect(()=>(window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[c]);const I=D(h.current,i),b=t.useCallback(v=>{const O=v.target.closest("a")!==null,g=s(C=>v.key===C,"isKey");O||a||!(g("Enter")||g(" ")||g(void 0))||f&&f()},[f,a]);return l.jsxs(H,{id:e,className:n,children:[d&&l.jsx(j,{id:w,role:"button","aria-controls":y,"aria-expanded":i,"aria-disabled":a,onClick:b,onKeyDown:b,tabIndex:"0",children:d}),o&&l.jsx(k,{$isOverflowHidden:I,id:y,"aria-labelledby":w,ref:h,$height:_,children:o})]})},"Dropdown");u.propTypes=T;const W=u,q=s(({defaultOpen:e=!1,...n})=>{const[d,o]=t.useState(e),i=s(()=>o(a=>!a),"onInteract");return l.jsx(u,{...n,isOpen:d,onInteract:i})},"DropdownStateful");q.propTypes=T;u.__docgenInfo={description:"A simple dropdown for toggling the visibility of content through interacting with a trigger",methods:[],displayName:"Dropdown",props:{isOpen:{defaultValue:{value:"false",computed:!1},description:"Whether the dropdown is open or not",type:{name:"bool"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"Whether the dropdown is disabled or not",type:{name:"bool"},required:!1},className:{description:"Custom classname for the dropdown",type:{name:"string"},required:!1},id:{description:"Unique identifier for the dropdown",type:{name:"string"},required:!1},trigger:{description:"The trigger of the dropdown",type:{name:"union",value:[{name:"string"},{name:"node"}]},required:!0},children:{description:"The content which is hidden by the dropdown",type:{name:"node"},required:!0},onInteract:{description:"Function to be called when the dropdown is interacted with",type:{name:"func"},required:!1}}};q.__docgenInfo={description:`A simple dropdown for toggling the visibility of content through interacting with a title
Only respects the isOpen prop on initial render`,methods:[],displayName:"DropdownStateful",props:{defaultOpen:{defaultValue:{value:"false",computed:!1},required:!1},className:{description:"Custom classname for the dropdown",type:{name:"string"},required:!1},id:{description:"Unique identifier for the dropdown",type:{name:"string"},required:!1},trigger:{description:"The trigger of the dropdown",type:{name:"union",value:[{name:"string"},{name:"node"}]},required:!0},children:{description:"The content which is hidden by the dropdown",type:{name:"node"},required:!0},isOpen:{description:"Whether the dropdown is open or not",type:{name:"bool"},required:!1},disabled:{description:"Whether the dropdown is disabled or not",type:{name:"bool"},required:!1},onInteract:{description:"Function to be called when the dropdown is interacted with",type:{name:"func"},required:!1}}};export{H as B,k as C,q as D,j as T,W as a};
//# sourceMappingURL=Dropdown-2f1c0625.js.map
