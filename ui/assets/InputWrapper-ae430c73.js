var Vr=Object.defineProperty;var o=(e,s)=>Vr(e,"name",{value:s,configurable:!0});import{R as T}from"./index-b56a0300.js";import{j}from"./jsx-runtime-91e341d4.js";import{S as Ar}from"./warning-solid-24-62e98cc2.js";import{u as G}from"./styled-components.browser.esm-dd68fb2f.js";import{I as Fr}from"./Icon.hoc-1b9291aa.js";var de=o(e=>e.type==="checkbox","isCheckBoxInput"),ne=o(e=>e instanceof Date,"isDateObject"),I=o(e=>e==null,"isNullOrUndefined");const or=o(e=>typeof e=="object","isObjectType");var E=o(e=>!I(e)&&!Array.isArray(e)&&or(e)&&!ne(e),"isObject"),wr=o(e=>E(e)&&e.target?de(e.target)?e.target.checked:e.target.value:e,"getEventValue"),Sr=o(e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,"getNodeParentName"),Er=o((e,s)=>e.has(Sr(s)),"isNameInFieldArray"),Dr=o(e=>{const s=e.constructor&&e.constructor.prototype;return E(s)&&s.hasOwnProperty("isPrototypeOf")},"isPlainObject"),Le=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Y(e){let s;const i=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Le&&(e instanceof Blob||e instanceof FileList))&&(i||E(e)))if(s=i?[]:{},!i&&!Dr(e))s=e;else for(const t in e)e.hasOwnProperty(t)&&(s[t]=Y(e[t]));else return e;return s}o(Y,"cloneObject");var fe=o(e=>Array.isArray(e)?e.filter(Boolean):[],"compact"),w=o(e=>e===void 0,"isUndefined"),g=o((e,s,i)=>{if(!s||!E(e))return i;const t=fe(s.split(/[,[\].]+?/)).reduce((l,u)=>I(l)?l:l[u],e);return w(t)||t===e?w(e[s])?i:e[s]:t},"get"),Z=o(e=>typeof e=="boolean","isBoolean");const Je={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},B={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},H={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ar=T.createContext(null),ct=o(()=>T.useContext(ar),"useFormContext"),dt=o(e=>{const{children:s,...i}=e;return T.createElement(ar.Provider,{value:i},s)},"FormProvider");var kr=o((e,s,i,t=!0)=>{const l={defaultValues:s._defaultValues};for(const u in e)Object.defineProperty(l,u,{get:()=>{const f=u;return s._proxyFormState[f]!==B.all&&(s._proxyFormState[f]=!t||B.all),i&&(i[f]=!0),e[f]}});return l},"getProxyFormState"),U=o(e=>E(e)&&!Object.keys(e).length,"isEmptyObject"),Cr=o((e,s,i,t)=>{i(e);const{name:l,...u}=e;return U(u)||Object.keys(u).length>=Object.keys(s).length||Object.keys(u).find(f=>s[f]===(!t||B.all))},"shouldRenderFormState"),ke=o(e=>Array.isArray(e)?e:[e],"convertToArrayPayload");function Rr(e){const s=T.useRef(e);s.current=e,T.useEffect(()=>{const i=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{i&&i.unsubscribe()}},[e.disabled])}o(Rr,"useSubscribe");var $=o(e=>typeof e=="string","isString"),Ir=o((e,s,i,t,l)=>$(e)?(t&&s.watch.add(e),g(i,e,l)):Array.isArray(e)?e.map(u=>(t&&s.watch.add(u),g(i,u))):(t&&(s.watchAll=!0),i),"generateWatchOutput"),Ue=o(e=>/^\w*$/.test(e),"isKey"),lr=o(e=>fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),"stringToPath"),F=o((e,s,i)=>{let t=-1;const l=Ue(s)?[s]:lr(s),u=l.length,f=u-1;for(;++t<u;){const x=l[t];let m=i;if(t!==f){const O=e[x];m=E(O)||Array.isArray(O)?O:isNaN(+l[t+1])?{}:[]}e[x]=m,e=e[x]}return e},"set"),Tr=o((e,s,i,t,l)=>s?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[t]:l||!0}}:{},"appendErrors"),Ke=o(e=>({isOnSubmit:!e||e===B.onSubmit,isOnBlur:e===B.onBlur,isOnChange:e===B.onChange,isOnAll:e===B.all,isOnTouch:e===B.onTouched}),"getValidationModes"),Qe=o((e,s,i)=>!i&&(s.watchAll||s.watch.has(e)||[...s.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),"isWatched");const ce=o((e,s,i,t)=>{for(const l of i||Object.keys(e)){const u=g(e,l);if(u){const{_f:f,...x}=u;if(f){if(f.refs&&f.refs[0]&&s(f.refs[0],l)&&!t)break;if(f.ref&&s(f.ref,f.name)&&!t)break;ce(x,s)}else E(x)&&ce(x,s)}}},"iterateFieldsByAction");var Or=o((e,s,i)=>{const t=fe(g(e,i));return F(t,"root",s[i]),F(e,i,t),e},"updateFieldArrayRootError"),Me=o(e=>e.type==="file","isFileInput"),Q=o(e=>typeof e=="function","isFunction"),be=o(e=>{if(!Le)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},"isHTMLElement"),ve=o(e=>$(e),"isMessage"),Ne=o(e=>e.type==="radio","isRadioInput"),xe=o(e=>e instanceof RegExp,"isRegex");const Xe={value:!1,isValid:!1},er={value:!0,isValid:!0};var ur=o(e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?er:{value:e[0].value,isValid:!0}:er:Xe}return Xe},"getCheckboxValue");const rr={isValid:!1,value:null};var cr=o(e=>Array.isArray(e)?e.reduce((s,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:s,rr):rr,"getRadioValue");function tr(e,s,i="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||Z(e)&&!e)return{type:i,message:ve(e)?e:"",ref:s}}o(tr,"getValidateError");var ie=o(e=>E(e)&&!xe(e)?e:{value:e,message:""},"getValueAndMessage"),sr=o(async(e,s,i,t,l)=>{const{ref:u,refs:f,required:x,maxLength:m,minLength:O,min:re,max:S,pattern:b,validate:J,name:L,valueAsNumber:Ve,mount:ye,disabled:Ae}=e._f,p=g(s,L);if(!ye||Ae)return{};const M=f?f[0]:u,z=o(v=>{t&&M.reportValidity&&(M.setCustomValidity(Z(v)?"":v||""),M.reportValidity())},"setCustomValidity"),D={},ge=Ne(u),oe=de(u),ae=ge||oe,te=(Ve||Me(u))&&w(u.value)&&w(p)||be(u)&&u.value===""||p===""||Array.isArray(p)&&!p.length,N=Tr.bind(null,L,i,D),he=o((v,_,A,R=H.maxLength,P=H.minLength)=>{const q=v?_:A;D[L]={type:v?R:P,message:q,ref:u,...N(v?R:P,q)}},"getMinMaxMessage");if(l?!Array.isArray(p)||!p.length:x&&(!ae&&(te||I(p))||Z(p)&&!p||oe&&!ur(f).isValid||ge&&!cr(f).isValid)){const{value:v,message:_}=ve(x)?{value:!!x,message:x}:ie(x);if(v&&(D[L]={type:H.required,message:_,ref:M,...N(H.required,_)},!i))return z(_),D}if(!te&&(!I(re)||!I(S))){let v,_;const A=ie(S),R=ie(re);if(!I(p)&&!isNaN(p)){const P=u.valueAsNumber||p&&+p;I(A.value)||(v=P>A.value),I(R.value)||(_=P<R.value)}else{const P=u.valueAsDate||new Date(p),q=o(pe=>new Date(new Date().toDateString()+" "+pe),"convertTimeToDate"),le=u.type=="time",X=u.type=="week";$(A.value)&&p&&(v=le?q(p)>q(A.value):X?p>A.value:P>new Date(A.value)),$(R.value)&&p&&(_=le?q(p)<q(R.value):X?p<R.value:P<new Date(R.value))}if((v||_)&&(he(!!v,A.message,R.message,H.max,H.min),!i))return z(D[L].message),D}if((m||O)&&!te&&($(p)||l&&Array.isArray(p))){const v=ie(m),_=ie(O),A=!I(v.value)&&p.length>+v.value,R=!I(_.value)&&p.length<+_.value;if((A||R)&&(he(A,v.message,_.message),!i))return z(D[L].message),D}if(b&&!te&&$(p)){const{value:v,message:_}=ie(b);if(xe(v)&&!p.match(v)&&(D[L]={type:H.pattern,message:_,ref:u,...N(H.pattern,_)},!i))return z(_),D}if(J){if(Q(J)){const v=await J(p,s),_=tr(v,M);if(_&&(D[L]={..._,...N(H.validate,_.message)},!i))return z(_.message),D}else if(E(J)){let v={};for(const _ in J){if(!U(v)&&!i)break;const A=tr(await J[_](p,s),M,_);A&&(v={...A,...N(_,A.message)},z(A.message),i&&(D[L]=v))}if(!U(v)&&(D[L]={ref:M,...v},!i))return D}}return z(!0),D},"validateField");function Lr(e,s){const i=s.slice(0,-1).length;let t=0;for(;t<i;)e=w(e)?t++:e[s[t++]];return e}o(Lr,"baseGet");function Ur(e){for(const s in e)if(e.hasOwnProperty(s)&&!w(e[s]))return!1;return!0}o(Ur,"isEmptyArray");function C(e,s){const i=Array.isArray(s)?s:Ue(s)?[s]:lr(s),t=i.length===1?e:Lr(e,i),l=i.length-1,u=i[l];return t&&delete t[u],l!==0&&(E(t)&&U(t)||Array.isArray(t)&&Ur(t))&&C(e,i.slice(0,-1)),e}o(C,"unset");var Ce=o(()=>{let e=[];return{get observers(){return e},next:o(l=>{for(const u of e)u.next&&u.next(l)},"next"),subscribe:o(l=>(e.push(l),{unsubscribe:()=>{e=e.filter(u=>u!==l)}}),"subscribe"),unsubscribe:o(()=>{e=[]},"unsubscribe")}},"createSubject"),me=o(e=>I(e)||!or(e),"isPrimitive");function ee(e,s){if(me(e)||me(s))return e===s;if(ne(e)&&ne(s))return e.getTime()===s.getTime();const i=Object.keys(e),t=Object.keys(s);if(i.length!==t.length)return!1;for(const l of i){const u=e[l];if(!t.includes(l))return!1;if(l!=="ref"){const f=s[l];if(ne(u)&&ne(f)||E(u)&&E(f)||Array.isArray(u)&&Array.isArray(f)?!ee(u,f):u!==f)return!1}}return!0}o(ee,"deepEqual");var dr=o(e=>e.type==="select-multiple","isMultipleSelect"),Mr=o(e=>Ne(e)||de(e),"isRadioOrCheckbox"),Re=o(e=>be(e)&&e.isConnected,"live"),fr=o(e=>{for(const s in e)if(Q(e[s]))return!0;return!1},"objectHasFunction");function _e(e,s={}){const i=Array.isArray(e);if(E(e)||i)for(const t in e)Array.isArray(e[t])||E(e[t])&&!fr(e[t])?(s[t]=Array.isArray(e[t])?[]:{},_e(e[t],s[t])):I(e[t])||(s[t]=!0);return s}o(_e,"markFieldsDirty");function yr(e,s,i){const t=Array.isArray(e);if(E(e)||t)for(const l in e)Array.isArray(e[l])||E(e[l])&&!fr(e[l])?w(s)||me(i[l])?i[l]=Array.isArray(e[l])?_e(e[l],[]):{..._e(e[l])}:yr(e[l],I(s)?{}:s[l],i[l]):i[l]=!ee(e[l],s[l]);return i}o(yr,"getDirtyFieldsFromDefaultValues");var Ie=o((e,s)=>yr(e,s,_e(s)),"getDirtyFields"),gr=o((e,{valueAsNumber:s,valueAsDate:i,setValueAs:t})=>w(e)?e:s?e===""?NaN:e&&+e:i&&$(e)?new Date(e):t?t(e):e,"getFieldValueAs");function Te(e){const s=e.ref;if(!(e.refs?e.refs.every(i=>i.disabled):s.disabled))return Me(s)?s.files:Ne(s)?cr(e.refs).value:dr(s)?[...s.selectedOptions].map(({value:i})=>i):de(s)?ur(e.refs).value:gr(w(s.value)?e.ref.value:s.value,e)}o(Te,"getFieldValue");var Nr=o((e,s,i,t)=>{const l={};for(const u of e){const f=g(s,u);f&&F(l,u,f._f)}return{criteriaMode:i,names:[...e],fields:l,shouldUseNativeValidation:t}},"getResolverOptions"),ue=o(e=>w(e)?e:xe(e)?e.source:E(e)?xe(e.value)?e.value.source:e.value:e,"getRuleValue"),qr=o(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),"hasValidation");function ir(e,s,i){const t=g(e,i);if(t||Ue(i))return{error:t,name:i};const l=i.split(".");for(;l.length;){const u=l.join("."),f=g(s,u),x=g(e,u);if(f&&!Array.isArray(f)&&i!==u)return{name:i};if(x&&x.type)return{name:u,error:x};l.pop()}return{name:i}}o(ir,"schemaErrorLookup");var Br=o((e,s,i,t,l)=>l.isOnAll?!1:!i&&l.isOnTouch?!(s||e):(i?t.isOnBlur:l.isOnBlur)?!e:(i?t.isOnChange:l.isOnChange)?e:!0,"skipValidation"),Pr=o((e,s)=>!fe(g(e,s)).length&&C(e,s),"unsetEmptyArray");const Wr={mode:B.onSubmit,reValidateMode:B.onChange,shouldFocusError:!0};function $r(e={},s){let i={...Wr,...e},t={submitCount:0,isDirty:!1,isLoading:Q(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:i.errors||{},disabled:!1},l={},u=E(i.defaultValues)||E(i.values)?Y(i.defaultValues||i.values)||{}:{},f=i.shouldUnregister?{}:Y(u),x={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},O,re=0;const S={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Ce(),array:Ce(),state:Ce()},J=e.resetOptions&&e.resetOptions.keepDirtyValues,L=Ke(i.mode),Ve=Ke(i.reValidateMode),ye=i.criteriaMode===B.all,Ae=o(r=>n=>{clearTimeout(re),re=setTimeout(r,n)},"debounce"),p=o(async r=>{if(S.isValid||r){const n=i.resolver?U((await N()).errors):await v(l,!0);n!==t.isValid&&b.state.next({isValid:n})}},"_updateValid"),M=o(r=>S.isValidating&&b.state.next({isValidating:r}),"_updateIsValidating"),z=o((r,n=[],a,y,d=!0,c=!0)=>{if(y&&a){if(x.action=!0,c&&Array.isArray(g(l,r))){const h=a(g(l,r),y.argA,y.argB);d&&F(l,r,h)}if(c&&Array.isArray(g(t.errors,r))){const h=a(g(t.errors,r),y.argA,y.argB);d&&F(t.errors,r,h),Pr(t.errors,r)}if(S.touchedFields&&c&&Array.isArray(g(t.touchedFields,r))){const h=a(g(t.touchedFields,r),y.argA,y.argB);d&&F(t.touchedFields,r,h)}S.dirtyFields&&(t.dirtyFields=Ie(u,f)),b.state.next({name:r,isDirty:A(r,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else F(f,r,n)},"_updateFieldArray"),D=o((r,n)=>{F(t.errors,r,n),b.state.next({errors:t.errors})},"updateErrors"),ge=o(r=>{t.errors=r,b.state.next({errors:t.errors,isValid:!1})},"_setErrors"),oe=o((r,n,a,y)=>{const d=g(l,r);if(d){const c=g(f,r,w(a)?g(u,r):a);w(c)||y&&y.defaultChecked||n?F(f,r,n?c:Te(d._f)):q(r,c),x.mount&&p()}},"updateValidAndValue"),ae=o((r,n,a,y,d)=>{let c=!1,h=!1;const V={name:r},k=!!(g(l,r)&&g(l,r)._f.disabled);if(!a||y){S.isDirty&&(h=t.isDirty,t.isDirty=V.isDirty=A(),c=h!==V.isDirty);const W=k||ee(g(u,r),n);h=!!(!k&&g(t.dirtyFields,r)),W||k?C(t.dirtyFields,r):F(t.dirtyFields,r,!0),V.dirtyFields=t.dirtyFields,c=c||S.dirtyFields&&h!==!W}if(a){const W=g(t.touchedFields,r);W||(F(t.touchedFields,r,a),V.touchedFields=t.touchedFields,c=c||S.touchedFields&&W!==a)}return c&&d&&b.state.next(V),c?V:{}},"updateTouchAndDirty"),te=o((r,n,a,y)=>{const d=g(t.errors,r),c=S.isValid&&Z(n)&&t.isValid!==n;if(e.delayError&&a?(O=Ae(()=>D(r,a)),O(e.delayError)):(clearTimeout(re),O=null,a?F(t.errors,r,a):C(t.errors,r)),(a?!ee(d,a):d)||!U(y)||c){const h={...y,...c&&Z(n)?{isValid:n}:{},errors:t.errors,name:r};t={...t,...h},b.state.next(h)}M(!1)},"shouldRenderByError"),N=o(async r=>i.resolver(f,i.context,Nr(r||m.mount,l,i.criteriaMode,i.shouldUseNativeValidation)),"_executeSchema"),he=o(async r=>{const{errors:n}=await N(r);if(r)for(const a of r){const y=g(n,a);y?F(t.errors,a,y):C(t.errors,a)}else t.errors=n;return n},"executeSchemaAndUpdateState"),v=o(async(r,n,a={valid:!0})=>{for(const y in r){const d=r[y];if(d){const{_f:c,...h}=d;if(c){const V=m.array.has(c.name),k=await sr(d,f,ye,i.shouldUseNativeValidation&&!n,V);if(k[c.name]&&(a.valid=!1,n))break;!n&&(g(k,c.name)?V?Or(t.errors,k,c.name):F(t.errors,c.name,k[c.name]):C(t.errors,c.name))}h&&await v(h,n,a)}}return a.valid},"executeBuiltInValidation"),_=o(()=>{for(const r of m.unMount){const n=g(l,r);n&&(n._f.refs?n._f.refs.every(a=>!Re(a)):!Re(n._f.ref))&&we(r)}m.unMount=new Set},"_removeUnmounted"),A=o((r,n)=>(r&&n&&F(f,r,n),!ee(Be(),u)),"_getDirty"),R=o((r,n,a)=>Ir(r,m,{...x.mount?f:w(n)?u:$(r)?{[r]:n}:n},a,n),"_getWatch"),P=o(r=>fe(g(x.mount?f:u,r,e.shouldUnregister?g(u,r,[]):[])),"_getFieldArray"),q=o((r,n,a={})=>{const y=g(l,r);let d=n;if(y){const c=y._f;c&&(!c.disabled&&F(f,r,gr(n,c)),d=be(c.ref)&&I(n)?"":n,dr(c.ref)?[...c.ref.options].forEach(h=>h.selected=d.includes(h.value)):c.refs?de(c.ref)?c.refs.length>1?c.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(d)?!!d.find(V=>V===h.value):d===h.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(h=>h.checked=h.value===d):Me(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||b.values.next({name:r,values:{...f}})))}(a.shouldDirty||a.shouldTouch)&&ae(r,d,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&Fe(r)},"setFieldValue"),le=o((r,n,a)=>{for(const y in n){const d=n[y],c=`${r}.${y}`,h=g(l,c);(m.array.has(r)||!me(d)||h&&!h._f)&&!ne(d)?le(c,d,a):q(c,d,a)}},"setValues"),X=o((r,n,a={})=>{const y=g(l,r),d=m.array.has(r),c=Y(n);F(f,r,c),d?(b.array.next({name:r,values:{...f}}),(S.isDirty||S.dirtyFields)&&a.shouldDirty&&b.state.next({name:r,dirtyFields:Ie(u,f),isDirty:A(r,c)})):y&&!y._f&&!I(c)?le(r,c,a):q(r,c,a),Qe(r,m)&&b.state.next({...t}),b.values.next({name:r,values:{...f}}),!x.mount&&s()},"setValue"),pe=o(async r=>{const n=r.target;let a=n.name,y=!0;const d=g(l,a),c=o(()=>n.type?Te(d._f):wr(r),"getCurrentFieldValue"),h=o(V=>{y=Number.isNaN(V)||V===g(f,a,V)},"_updateIsFieldValueUpdated");if(d){let V,k;const W=c(),se=r.type===Je.BLUR||r.type===Je.FOCUS_OUT,xr=!qr(d._f)&&!i.resolver&&!g(t.errors,a)&&!d._f.deps||Br(se,g(t.touchedFields,a),t.isSubmitted,Ve,L),Ee=Qe(a,m,se);F(f,a,W),se?(d._f.onBlur&&d._f.onBlur(r),O&&O(0)):d._f.onChange&&d._f.onChange(r);const De=ae(a,W,se,!1),mr=!U(De)||Ee;if(!se&&b.values.next({name:a,type:r.type,values:{...f}}),xr)return S.isValid&&p(),mr&&b.state.next({name:a,...Ee?{}:De});if(!se&&Ee&&b.state.next({...t}),M(!0),i.resolver){const{errors:Ze}=await N([a]);if(h(W),y){const _r=ir(t.errors,l,a),Ge=ir(Ze,l,_r.name||a);V=Ge.error,a=Ge.name,k=U(Ze)}}else V=(await sr(d,f,ye,i.shouldUseNativeValidation))[a],h(W),y&&(V?k=!1:S.isValid&&(k=await v(l,!0)));y&&(d._f.deps&&Fe(d._f.deps),te(a,k,V,De))}},"onChange"),qe=o((r,n)=>{if(g(t.errors,n)&&r.focus)return r.focus(),1},"_focusInput"),Fe=o(async(r,n={})=>{let a,y;const d=ke(r);if(M(!0),i.resolver){const c=await he(w(r)?r:d);a=U(c),y=r?!d.some(h=>g(c,h)):a}else r?(y=(await Promise.all(d.map(async c=>{const h=g(l,c);return await v(h&&h._f?{[c]:h}:h)}))).every(Boolean),!(!y&&!t.isValid)&&p()):y=a=await v(l);return b.state.next({...!$(r)||S.isValid&&a!==t.isValid?{}:{name:r},...i.resolver||!r?{isValid:a}:{},errors:t.errors,isValidating:!1}),n.shouldFocus&&!y&&ce(l,qe,r?d:m.mount),y},"trigger"),Be=o(r=>{const n={...u,...x.mount?f:{}};return w(r)?n:$(r)?g(n,r):r.map(a=>g(n,a))},"getValues"),Pe=o((r,n)=>({invalid:!!g((n||t).errors,r),isDirty:!!g((n||t).dirtyFields,r),isTouched:!!g((n||t).touchedFields,r),error:g((n||t).errors,r)}),"getFieldState"),hr=o(r=>{r&&ke(r).forEach(n=>C(t.errors,n)),b.state.next({errors:r?t.errors:{}})},"clearErrors"),We=o((r,n,a)=>{const y=(g(l,r,{_f:{}})._f||{}).ref;F(t.errors,r,{...n,ref:y}),b.state.next({name:r,errors:t.errors,isValid:!1}),a&&a.shouldFocus&&y&&y.focus&&y.focus()},"setError"),pr=o((r,n)=>Q(r)?b.values.subscribe({next:a=>r(R(void 0,n),a)}):R(r,n,!0),"watch"),we=o((r,n={})=>{for(const a of r?ke(r):m.mount)m.mount.delete(a),m.array.delete(a),n.keepValue||(C(l,a),C(f,a)),!n.keepError&&C(t.errors,a),!n.keepDirty&&C(t.dirtyFields,a),!n.keepTouched&&C(t.touchedFields,a),!i.shouldUnregister&&!n.keepDefaultValue&&C(u,a);b.values.next({values:{...f}}),b.state.next({...t,...n.keepDirty?{isDirty:A()}:{}}),!n.keepIsValid&&p()},"unregister"),$e=o(({disabled:r,name:n,field:a,fields:y,value:d})=>{if(Z(r)){const c=r?void 0:w(d)?Te(a?a._f:g(y,n)._f):d;F(f,n,c),ae(n,c,!1,!1,!0)}},"_updateDisabledField"),Se=o((r,n={})=>{let a=g(l,r);const y=Z(n.disabled);return F(l,r,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:r}},name:r,mount:!0,...n}}),m.mount.add(r),a?$e({field:a,disabled:n.disabled,name:r,value:n.value}):oe(r,!0,n.value),{...y?{disabled:n.disabled}:{},...i.progressive?{required:!!n.required,min:ue(n.min),max:ue(n.max),minLength:ue(n.minLength),maxLength:ue(n.maxLength),pattern:ue(n.pattern)}:{},name:r,onChange:pe,onBlur:pe,ref:d=>{if(d){Se(r,n),a=g(l,r);const c=w(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=Mr(c),V=a._f.refs||[];if(h?V.find(k=>k===c):c===a._f.ref)return;F(l,r,{_f:{...a._f,...h?{refs:[...V.filter(Re),c,...Array.isArray(g(u,r))?[{}]:[]],ref:{type:c.type,name:r}}:{ref:c}}}),oe(r,!1,void 0,c)}else a=g(l,r,{}),a._f&&(a._f.mount=!1),(i.shouldUnregister||n.shouldUnregister)&&!(Er(m.array,r)&&x.action)&&m.unMount.add(r)}}},"register"),ze=o(()=>i.shouldFocusError&&ce(l,qe,m.mount),"_focusError"),vr=o(r=>{Z(r)&&(b.state.next({disabled:r}),ce(l,(n,a)=>{let y=r;const d=g(l,a);d&&Z(d._f.disabled)&&(y||(y=d._f.disabled)),n.disabled=y},0,!1))},"_disableForm"),je=o((r,n)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let y=Y(f);if(b.state.next({isSubmitting:!0}),i.resolver){const{errors:d,values:c}=await N();t.errors=d,y=c}else await v(l);C(t.errors,"root"),U(t.errors)?(b.state.next({errors:{}}),await r(y,a)):(n&&await n({...t.errors},a),ze(),setTimeout(ze)),b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors),submitCount:t.submitCount+1,errors:t.errors})},"handleSubmit"),br=o((r,n={})=>{g(l,r)&&(w(n.defaultValue)?X(r,g(u,r)):(X(r,n.defaultValue),F(u,r,n.defaultValue)),n.keepTouched||C(t.touchedFields,r),n.keepDirty||(C(t.dirtyFields,r),t.isDirty=n.defaultValue?A(r,g(u,r)):A()),n.keepError||(C(t.errors,r),S.isValid&&p()),b.state.next({...t}))},"resetField"),He=o((r,n={})=>{const a=r?Y(r):u,y=Y(a),d=r&&!U(r)?y:u;if(n.keepDefaultValues||(u=a),!n.keepValues){if(n.keepDirtyValues||J)for(const c of m.mount)g(t.dirtyFields,c)?F(d,c,g(f,c)):X(c,g(d,c));else{if(Le&&w(r))for(const c of m.mount){const h=g(l,c);if(h&&h._f){const V=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(be(V)){const k=V.closest("form");if(k){k.reset();break}}}}l={}}f=e.shouldUnregister?n.keepDefaultValues?Y(u):{}:Y(d),b.array.next({values:{...d}}),b.values.next({values:{...d}})}m={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!x.mount&&s(),x.mount=!S.isValid||!!n.keepIsValid,x.watch=!!e.shouldUnregister,b.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!ee(r,u)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:n.keepDirtyValues?t.dirtyFields:n.keepDefaultValues&&r?Ie(u,r):{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},"_reset"),Ye=o((r,n)=>He(Q(r)?r(f):r,n),"reset");return{control:{register:Se,unregister:we,getFieldState:Pe,handleSubmit:je,setError:We,_executeSchema:N,_getWatch:R,_getDirty:A,_updateValid:p,_removeUnmounted:_,_updateFieldArray:z,_updateDisabledField:$e,_getFieldArray:P,_reset:He,_resetDefaultValues:o(()=>Q(i.defaultValues)&&i.defaultValues().then(r=>{Ye(r,i.resetOptions),b.state.next({isLoading:!1})}),"_resetDefaultValues"),_updateFormState:o(r=>{t={...t,...r}},"_updateFormState"),_disableForm:vr,_subjects:b,_proxyFormState:S,_setErrors:ge,get _fields(){return l},get _formValues(){return f},get _state(){return x},set _state(r){x=r},get _defaultValues(){return u},get _names(){return m},set _names(r){m=r},get _formState(){return t},set _formState(r){t=r},get _options(){return i},set _options(r){i={...i,...r}}},trigger:Fe,register:Se,handleSubmit:je,watch:pr,setValue:X,getValues:Be,reset:Ye,resetField:br,clearErrors:hr,unregister:we,setError:We,setFocus:o((r,n={})=>{const a=g(l,r),y=a&&a._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),n.shouldSelect&&d.select())}},"setFocus"),getFieldState:Pe}}o($r,"createFormControl");function ft(e={}){const s=T.useRef(),i=T.useRef(),[t,l]=T.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...$r(e,()=>l(f=>({...f}))),formState:t});const u=s.current.control;return u._options=e,Rr({subject:u._subjects.state,next:f=>{Cr(f,u._proxyFormState,u._updateFormState,!0)&&l({...u._formState})}}),T.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),T.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==t.isDirty&&u._subjects.state.next({isDirty:f})}},[u,t.isDirty]),T.useEffect(()=>{e.values&&!ee(e.values,i.current)?(u._reset(e.values,u._options.resetOptions),i.current=e.values,l(f=>({...f}))):u._resetDefaultValues()},[e.values,u]),T.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),T.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),s.current.formState=kr(t,u),s.current}o(ft,"useForm");const zr=o(e=>`${e}-hint`,"hintId"),jr=o(e=>`${e}-error`,"errorId"),yt=o(e=>e.charAt(0).toUpperCase()+e.slice(1),"capitalise"),Hr={letters:new RegExp("[A-Za-z]","g"),digits:new RegExp("[0-9]","g")},gt=o((e,s)=>{if(!s)return e==null?void 0:e.length;const i=Hr[s];return(e.match(i)||[]).length},"count"),ht=o(e=>typeof e=="string"?e.replace(/\s{2,}/g," ").trim():e||"","parseString"),Yr=o((e,s)=>e.fields.reduce((i,t)=>{const l=e.validate(t,s[t],s)||[];return l.length>0?{...i,[t]:l}:i},{}),"getAllErrors"),pt=o(e=>s=>{const i=Yr(e,s);return{values:s,errors:i}},"resolver");var K=(e=>(e.DEFAULT="default",e.ERROR="error",e.SUCCESS="success",e))(K||{});const nr=o((e,s,i)=>({inactive:{[K.DEFAULT]:`1px solid ${e.color.semiotic.inactive};`,[K.ERROR]:`2px solid ${e.color.semiotic.error}`,[K.SUCCESS]:`2px solid ${e.color.semiotic.success}`},focused:{[K.DEFAULT]:`2px solid ${e.color.semiotic.info}`,[K.ERROR]:`2px solid ${e.color.semiotic.error}`,[K.SUCCESS]:`2px solid ${e.color.semiotic.info}`}})[i][s],"getBorderStyle"),vt=G.input.withConfig({componentId:"sc-10zubip-0"})(["display:block;width:100%;height:var(--input-height);box-sizing:border-box;padding-top:","px;padding-right:","px;padding-bottom:","px;padding-left:","px;border:none;border-radius:var(--border-radius);background-color:",";font:",";&:focus,&:focus-visible{border:none;outline:none;}&:disabled{background-color:",";color:",";}"],({theme:e})=>e.spacing.x1,({theme:e})=>e.spacing.x2,({theme:e})=>e.spacing.x1,({theme:e})=>e.spacing.x2,({theme:e})=>e.color.ink.inverted,({theme:e})=>e.textStyle.formInput.base,({theme:e})=>e.color.semiotic.disabled,({theme:e})=>e.color.ink.inverted),Zr=G.div.withConfig({componentId:"sc-10zubip-1"})(["--input-height:","px;--border-radius:4px;align-items:center;margin-bottom:","px;color:",";font:",";"],({theme:e})=>e.dimension.btn.height,({theme:e})=>e.spacing.x1,({theme:e})=>e.color.ink.base,({theme:e})=>e.textStyle.formInput.base),Gr=G.label.withConfig({componentId:"sc-10zubip-2"})(["margin-bottom:0;font:",";"],({theme:e})=>e.textStyle.formInput.label),Jr=G.span.withConfig({componentId:"sc-10zubip-3"})(["margin-right:","px;color:",";"],({theme:e})=>e.spacing.x0_25,({theme:e})=>e.color.semiotic.error),Kr=G.p.withConfig({componentId:"sc-10zubip-4"})(["margin-top:","px;margin-bottom:0;font:",";"],({theme:e})=>e.spacing.x0_25,({theme:e})=>e.textStyle.formInput.helpText),Oe=G.div.withConfig({componentId:"sc-10zubip-5"})(["position:relative;width:100%;margin-top:","px;border-radius:var(--border-radius);outline:",";&:focus-within{border:none;outline:",";}"],({theme:e})=>e.spacing.x1,({theme:e,$state:s})=>nr(e,s,"inactive"),({theme:e,$state:s})=>nr(e,s,"focused")),Qr=G.div.withConfig({componentId:"sc-10zubip-6"})(["margin-top:","px;margin-bottom:","px;"],({theme:e})=>e.spacing.x0_5,({theme:e})=>e.spacing.x2),Xr=G.div.withConfig({componentId:"sc-10zubip-7"})(["display:flex;gap:","px;color:",";font:",";"],({theme:e})=>e.spacing.x0_5,e=>e.theme.color.semiotic.error,({theme:e})=>e.textStyle.formInput.error),et=G(Fr).withConfig({componentId:"sc-10zubip-8"})(["flex-shrink:0;"]),bt=o(({id:e,label:s,helpText:i,className:t,message:l,state:u,required:f,children:x})=>j.jsxs(Zr,{className:t,children:[j.jsx(Gr,{htmlFor:e,children:s}),f&&j.jsx(Jr,{"aria-hidden":!0,children:"*"}),i&&j.jsx(Kr,{id:zr(e),children:i}),j.jsx(Oe,{$state:u,children:x}),j.jsx(Qr,{"aria-live":"assertive",children:u===K.ERROR&&l&&j.jsxs(Xr,{children:[j.jsx(et,{svg:Ar,size:"small"}),j.jsx("span",{id:jr(e),children:l})]})})]}),"FormInputWrapper");try{Oe.displayName="InputWrapper",Oe.__docgenInfo={description:"",displayName:"InputWrapper",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"Style guide: Text fields should always have a label",name:"label",required:!0,type:{name:"string"}},helpText:{defaultValue:null,description:"Style guide: Input constraints can be displayed here e.g. for Expiry Date: MM/YY",name:"helpText",required:!1,type:{name:"string"}},message:{defaultValue:null,description:`When controlled={true}, the message that will display on error
Otherwise, the state must be manually set to InputState.ERROR`,name:"message",required:!1,type:{name:"string"}},state:{defaultValue:null,description:`The state of the input - defines border style, and whether to show
error messages`,name:"state",required:!0,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"success"'}]}},required:{defaultValue:null,description:`Whether to display the asterisk indicating a required field
Note: This is purely a VISUAL indicator, and does not affect validation`,name:"required",required:!1,type:{name:"boolean"}},controlled:{defaultValue:null,description:`Whether the input's validation (errors and state) are controlled by
react-hook-form (requiring use of FormProvider from
@indy /ui/Form)`,name:"controlled",required:!1,type:{name:"boolean"}}}}}catch{}export{vt as B,dt as F,K as I,yt as a,ct as b,gt as c,bt as d,jr as e,nr as g,zr as h,ht as p,pt as r,ft as u};
//# sourceMappingURL=InputWrapper-ae430c73.js.map
