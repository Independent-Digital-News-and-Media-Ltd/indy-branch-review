{"version":3,"file":"MultiStepCards.stories-53aeeef4.js","sources":["../../../src/components/MultiStepCard/MultiStepCardWithExtraSpacing.tsx","../../../src/components/MultiStepCard/WithData/MultiStepCardWithData.tsx","../../../src/components/MultiStepCards/MultiStepCards.helpers.ts","../../../src/components/MultiStepCards/MultiStepCards.styles.ts","../../../src/components/MultiStepCards/MultiStepCards.tsx"],"sourcesContent":["import { styled } from 'styled-components';\n\nimport MultiStepCard from './MultiStepCard';\nimport { InnerWrapper, StepAndTitleWrapper } from './MultiStepCard.styles';\n\nexport default styled(MultiStepCard)`\n  ${InnerWrapper} {\n    padding-right: ${({ theme }) => theme.spacing.x2}px;\n    padding-left: ${({ theme }) => theme.spacing.x2}px;\n  }\n\n  ${StepAndTitleWrapper} {\n    margin-bottom: ${({ theme }) => theme.spacing.x3}px;\n  }\n`;\n","import { forwardRef } from 'react';\n\nimport MultiStepCard from '../MultiStepCard';\n\nimport MultiStepCardWithDataProps from './MultiStepCardWithData.types';\n\n// this component is just for Storybook purposes\nconst MultiStepCardWithData = forwardRef<\n  HTMLDivElement,\n  MultiStepCardWithDataProps\n>(function MultiStepCardWithData({ totalSteps, myStep, isCardActive }, ref) {\n  return (\n    <MultiStepCard\n      ref={ref}\n      currentStep={`${myStep}/${totalSteps}`}\n      title=\"Test title\"\n      description=\"Test description\"\n      isCardActive={isCardActive}\n    >\n      Child card content\n    </MultiStepCard>\n  );\n});\n\nexport default MultiStepCardWithData;\n","export const updateChildCardHeights = (\n  wrapperRef: React.RefObject<HTMLDivElement>,\n  childCardsRef: React.MutableRefObject<HTMLElement[]>,\n) => {\n  const wrapper = wrapperRef.current;\n  const childCards = childCardsRef.current;\n  if (wrapper && childCards.length) {\n    childCards.forEach((card, idx) => {\n      wrapper.style.setProperty(\n        `--card-${idx + 1}-height`,\n        `${card.scrollHeight}px`,\n      );\n    });\n  }\n};\n","import { styled } from 'styled-components';\n\nimport * as device from '#theme/devices';\n\nexport const Wrapper = styled.div`\n  --card-inactive-top-position: calc(\n    (var(--card-top-padding) * 2) + var(--card-step-lh)\n  );\n  --card-top-padding: ${({ theme }) => theme.spacing.x2}px;\n  --card-step-lh: 18px;\n  --card-transition: ${({ theme }) =>\n    theme.transition.onboardingJourneyWrapper};\n\n  position: relative;\n  overflow: hidden;\n  max-width: ${({ theme }) =>\n    theme.dimension.pageWidth.laptop - theme.spacing.x4}px;\n  box-sizing: border-box;\n  margin: 0 auto;\n\n  @media ${device.tablet} {\n    --additional-inactive-card-padding-y: ${({ theme }) =>\n      theme.spacing.x0_5}px;\n    --card-inactive-top-position: calc(\n      (var(--card-top-padding) * 2) +\n        (var(--additional-inactive-card-padding-y) * 2) + var(--card-step-lh)\n    );\n    padding: 0 ${({ theme }) => theme.spacing.x1_5}px 0;\n  }\n`;\n","import {\n  useRef,\n  Children,\n  cloneElement,\n  useState,\n  useEffect,\n  useCallback,\n  useMemo,\n} from 'react';\n\nimport { updateChildCardHeights } from './MultiStepCards.helpers';\nimport { Wrapper } from './MultiStepCards.styles';\nimport MultiStepCardsProps from './MultiStepCards.types';\n\nconst MultiStepCards = ({\n  initialStepOverride = 1,\n  children,\n  className,\n}: MultiStepCardsProps) => {\n  const [currentStep, setCurrentStep] = useState(initialStepOverride);\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const childCardsRef = useRef<HTMLElement[]>([]);\n  const handleCurrentStepUpdate = useCallback(\n    (targetStep: number) => setCurrentStep(targetStep),\n    [],\n  );\n  const childrenFiltered = useMemo(() => children.filter(Boolean), [children]);\n\n  useEffect(() => {\n    window.addEventListener('resize', () =>\n      updateChildCardHeights(wrapperRef, childCardsRef),\n    );\n    return () => {\n      window.removeEventListener('resize', () =>\n        updateChildCardHeights(wrapperRef, childCardsRef),\n      );\n    };\n  }, []);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    updateChildCardHeights(wrapperRef, childCardsRef);\n  }, [currentStep]);\n\n  return (\n    <Wrapper ref={wrapperRef} className={className}>\n      {Children.map(childrenFiltered, (child, index) => {\n        const targetStep = index + 1;\n        return cloneElement(child, {\n          ref: (ref: HTMLElement) => {\n            childCardsRef.current[index] = ref;\n          },\n          totalSteps: childrenFiltered.length,\n          currentStep,\n          myStep: targetStep,\n          myTabIndex: targetStep === currentStep ? 0 : -1,\n          isCardActive: currentStep === targetStep,\n          handleCurrentStepUpdate,\n        });\n      })}\n    </Wrapper>\n  );\n};\n\nexport default MultiStepCards;\n"],"names":["styled","MultiStepCard","InnerWrapper","theme","StepAndTitleWrapper","MultiStepCardWithData","forwardRef","__name","totalSteps","myStep","ref","jsx","isCardActive","updateChildCardHeights","wrapperRef","childCardsRef","wrapper","current","childCards","length","forEach","card","idx","style","setProperty","scrollHeight","Wrapper","div","withConfig","componentId","spacing","x2","transition","onboardingJourneyWrapper","dimension","pageWidth","laptop","x4","device","x0_5","x1_5","MultiStepCards","initialStepOverride","children","currentStep","setCurrentStep","useState","useRef","handleCurrentStepUpdate","useCallback","targetStep","childrenFiltered","useMemo","useEffect","window","className","Children","child","index","cloneElement","MultiStepCards$1"],"mappings":"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"}