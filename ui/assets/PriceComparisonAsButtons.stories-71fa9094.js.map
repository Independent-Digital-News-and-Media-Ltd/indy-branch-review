{"version":3,"file":"PriceComparisonAsButtons.stories-71fa9094.js","sources":["../../../src/components/PriceComparison/PriceComparisonAsButtons/PriceComparisonAsButtons.styles.ts","../../../src/components/PriceComparison/PriceComparisonAsButtons/Button.tsx","../../../src/components/PriceComparison/PriceComparisonAsButtons/Fallback.tsx","../../../src/components/PriceComparison/PriceComparisonAsButtons/Loading.tsx","../../../src/components/PriceComparison/PriceComparisonAsButtons/PriceComparisonAsButtons.tsx"],"sourcesContent":["import { styled } from 'styled-components';\n\nimport { visuallyHidden } from '#theme/mixins';\n\nimport { OFFERS_LIMIT } from '../PriceComparison.constants';\n\nexport const Wrapper = styled.div`\n  --bottom-margin: ${({ theme }) => theme.spacing.x1_5}px;\n  --button-height: 48px;\n  --height: calc(\n    (var(--button-height) * ${OFFERS_LIMIT}) + (var(--bottom-margin) * 2)\n  );\n  height: var(--height);\n  box-sizing: border-box;\n`;\n\nexport const List = styled.ol`\n  display: flex;\n  flex-direction: column;\n  gap: ${({ theme }) => theme.spacing.x1_5}px;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n`;\n\nexport const TextWithTruncation = styled.span`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nexport const Notice = styled.div`\n  margin-top: ${({ theme }) => theme.spacing.x1}px;\n  font: ${({ theme }) => theme.textStyle.priceList.updated};\n  text-align: right;\n`;\n\nexport const LoadingWrapper = styled(Wrapper)`\n  display: flex;\n  align-items: stretch;\n`;\n\nexport const LoadingText = styled.p`\n  ${visuallyHidden}\n`;\n","import { FC } from 'react';\n\nimport Button from '#components/Button';\nimport {\n  BUTTON_AS_ANCHOR,\n  BUTTON_SIZE_LARGE,\n  BUTTON_VARIANT_PRIMARY_UNCAP,\n} from '#components/Button/Button.constants';\n\nimport { getPriceWithoutDecimals } from '#utils/currency';\n\nimport { ItemProps } from '../PriceComparison.types';\n\nimport { TextWithTruncation } from './PriceComparisonAsButtons.styles';\n\nconst PriceComparisonButton: FC<ItemProps> = ({\n  merchant,\n  price,\n  link,\n  onClick,\n  ...rest\n}) => (\n  <Button\n    as={BUTTON_AS_ANCHOR}\n    href={link}\n    target=\"_blank\"\n    rel=\"noreferrer\"\n    isExternal={true}\n    size={BUTTON_SIZE_LARGE}\n    variant={BUTTON_VARIANT_PRIMARY_UNCAP}\n    onClick={onClick}\n    {...rest}\n  >\n    <TextWithTruncation>\n      {getPriceWithoutDecimals(price)} from {merchant}\n    </TextWithTruncation>\n  </Button>\n);\n\nexport default PriceComparisonButton;\n","import { FC } from 'react';\n\nimport { ERROR_SUPPLEMENTAL } from '../PriceComparison.constants';\nimport { FallbackProps } from '../PriceComparison.types';\n\nimport { Wrapper, Notice } from './PriceComparisonAsButtons.styles';\n\nconst Fallback: FC<FallbackProps> = ({ className, children }) => (\n  <Wrapper className={className}>\n    {children}\n    <Notice>\n      <small>{ERROR_SUPPLEMENTAL}</small>\n    </Notice>\n  </Wrapper>\n);\n\nexport default Fallback;\n","import { FC } from 'react';\n\nimport LoadingEllipsis from '#components/LoadingEllipsis';\n\nimport { LoadingProps } from '../PriceComparison.types';\n\nimport {\n  Wrapper,\n  LoadingWrapper,\n  LoadingText,\n} from './PriceComparisonAsButtons.styles';\n\nconst Loading: FC<LoadingProps> = ({ className }) => (\n  <Wrapper className={className}>\n    <LoadingWrapper>\n      <LoadingText>Loading...</LoadingText>\n      <LoadingEllipsis />\n    </LoadingWrapper>\n  </Wrapper>\n);\n\nexport default Loading;\n","import { FC } from 'react';\n\nimport { PriceComparisonCommonProps } from '../PriceComparison.types';\n\nimport Button from './Button';\nimport Fallback from './Fallback';\nimport Loading from './Loading';\nimport { List, Wrapper } from './PriceComparisonAsButtons.styles';\n\nconst PriceComparisonAsButtons: FC<PriceComparisonCommonProps> = ({\n  className,\n  items,\n  isLoading,\n  isLive,\n  onBuyNowClick,\n}) => {\n  const content = (\n    <List>\n      {items.map(({ merchant, price, link }, i) => (\n        <li key={i}>\n          <Button\n            merchant={merchant}\n            price={price}\n            link={link}\n            onClick={() => onBuyNowClick && onBuyNowClick(i, price)}\n          />\n        </li>\n      ))}\n    </List>\n  );\n\n  if (isLoading) {\n    return <Loading className={className} />;\n  }\n\n  if (!isLive) {\n    return <Fallback className={className}>{content}</Fallback>;\n  }\n\n  return <Wrapper className={className}>{content}</Wrapper>;\n};\n\nexport default PriceComparisonAsButtons;\n"],"names":["Wrapper","styled","div","withConfig","componentId","theme","spacing","x1_5","OFFERS_LIMIT","List","ol","TextWithTruncation","span","Notice","x1","textStyle","priceList","updated","LoadingWrapper","LoadingText","p","visuallyHidden","PriceComparisonButton","__name","merchant","price","link","onClick","jsx","Button","BUTTON_AS_ANCHOR","BUTTON_SIZE_LARGE","BUTTON_VARIANT_PRIMARY_UNCAP","rest","jsxs","getPriceWithoutDecimals","Fallback","className","children","Loading","LoadingEllipsis","PriceComparisonAsButtons","items","isLoading","isLive","content"],"mappings":"w3BAMaA,MAAAA,EAAUC,EAAOC,IAAGC,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,mBAAA,kEAAA,8EAAA,EACZ,CAAC,CAAEC,MAAAA,CAAM,IAAMA,EAAMC,QAAQC,KAGpBC,CAAY,EAM7BC,EAAOR,EAAOS,GAAEP,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,0CAAA,wCAAA,EAGpB,CAAC,CAAEC,MAAAA,CAAM,IAAMA,EAAMC,QAAQC,IAAI,EAM7BI,EAAqBV,EAAOW,KAAIT,WAAA,CAAAC,YAAA,aAAA,CAI5C,EAAA,CAAA,4DAAA,CAAA,EAEYS,GAASZ,EAAOC,IAAGC,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,cAAA,WAAA,oBAAA,EAChB,CAAC,CAAEC,MAAAA,CAAM,IAAMA,EAAMC,QAAQQ,GACnC,CAAC,CAAET,MAAAA,CAAM,IAAMA,EAAMU,UAAUC,UAAUC,OAAO,EAI7CC,GAAiBjB,EAAOD,CAAO,EAACG,WAAA,CAAAC,YAAA,aAAA,CAG5C,EAAA,CAAA,mCAAA,CAAA,EAEYe,GAAclB,EAAOmB,EAACjB,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,GAAA,EAAA,EAC/BiB,CAAc,EC5BlBC,GAAAC,EAAA,CAAA,CAA8C,SAAAC,EAC5CA,MAAAA,EACAC,KAAAA,EACAC,QAAAA,EACAC,GAAAA,CAEF,IAAAC,MAAAC,EAAA,CAAA,GAAAC,EAAA,KAAAJ,EAAA,OAAA,SAAA,IAAA,aAAA,WAAA,GAAA,KAAAK,EAAA,QAAAC,EAAA,QAAAL,EAAA,GAAAM,EAAA,SAAAC,EAAAA,KAAAvB,EAAA,CAAA,SAAA,CAaOwB,EAAAA,CAAAA,EAA6B,SAAEX,CAAOA,CAAAA,CAAAA,CAAAA,CAAAA,EAnB7C,geCRA,MAAAY,EAAAb,EAAA,CAAA,CAAqC,UAAAc,EAAEA,SAAAA,CAAoB,IAAAH,OAAAlC,EAAA,CAAA,UAAAqC,EAAA,SAAA,CAEtDC,EAAAA,MAAAA,GAAAA,CAAAA,SAAAA,EAAAA,IAAAA,QAAAA,CAAAA,SAAAA,CAAAA,CAAAA,EAAAA,CAGD,CAAA,CAAA,EALJ,gNCKA,MAAAC,EAAAhB,EAAA,CAAA,CAAmC,UAAAc,CAAY,IAAAT,EAAA,IAAA5B,EAAA,CAAA,UAAAqC,EAAA,SAAAH,OAAAhB,GAAA,CAAA,SAAA,CAGzCU,EAAAA,IAAAT,GAAA,CAAA,SAAA,YAAA,CAAA,EAAuBS,EAAA,IAAAY,EAAA,EAAA,CACP,CAAA,CAAA,CAAA,CAAA,EAJtB,oSCHA,MAAAC,EAAAlB,EAAA,CAAA,CAAkE,UAAAc,EAChEA,MAAAA,EACAK,UAAAA,EACAC,OAAAA,EACAC,cAAAA,CAEF,IAAA,CACE,MAAAC,EAAAjB,EAAAA,IAAAnB,EAAA,CAAA,SAAAiC,EAAA,IAAA,CAAA,CAEgB,SAAAlB,EAAEA,MAAAA,EAAUC,KAAAA,CAAOC,EAAAA,IAAAA,MAAAA,KAAAA,CAAAA,SAAAA,EAAAA,IAAAA,GAAAA,CAAAA,SAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,QAAAA,IAAAA,GAAAA,EAAAA,EAAAA,CAAAA,CAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAanC,OAAAiB,EACEf,MAAAW,EAAA,CAAA,UAAAF,CAAA,CAAA,EAGFO,EAIAhB,EAAAA,IAAA5B,EAAA,CAAA,UAAAqC,EAAA,SAAAQ,CAAA,CAAA,EAHEjB,EAAAA,IAAAQ,EAAA,CAAA,UAAAC,EAAA,SAAAQ,CAAA,CAAA,CAIJ,EA/BA"}