{"version":3,"file":"ProductCarouselCard-8e405e7d.js","sources":["../../../src/components/ProductComparison/ControlBar/ControlBar.constants.ts","../../../src/components/ProductCarouselCard/ProductCarouselCard.constants.ts","../../../src/components/ProductCarouselCard/ProductCarouselCard.styles.ts","../../../src/components/ProductCarouselCard/ProductCarouselCard.tsx"],"sourcesContent":["export const MAX_SELECTED_ITEMS = 2;\nexport const MIN_SELECTED_ITEMS = 2;\nexport const STATUS_TESTID = 'status';\nexport const RESET_BUTTON_LABEL = 'Clear All';\nexport const COMPARE_BUTTON_LABEL = 'Compare';\nexport const RESET_BUTTON_TESTID = 'reset-button';\nexport const COMPARE_BUTTON_TESTID = 'compared-button';\n","import * as spacing from '#theme/spacings';\n\nexport const FOOTER_SPACING = spacing.x2;\nexport const TILE_WIDTH_MOBILE = 140;\nexport const TILE_WIDTH_TABLET = 156;\nexport const TILE_WIDTH_LAPTOP = 190;\n\nexport const UNAVAILABLE_LABEL = 'Unavailable';\nexport const BUY_NOW_LABEL = 'Buy now';\n","import { styled } from 'styled-components';\n\nimport Button from '#components/Button';\nimport {\n  BUTTON_VARIANT_TERTIARY,\n  BUTTON_VARIANT_SECONDARY,\n} from '#components/Button/Button.constants';\nimport StarRating from '#components/StarRating';\n\nimport * as device from '#theme/devices';\n\nimport clampLines from '#utils/clampLines';\n\nimport {\n  TILE_WIDTH_MOBILE,\n  TILE_WIDTH_TABLET,\n  TILE_WIDTH_LAPTOP,\n  FOOTER_SPACING,\n} from './ProductCarouselCard.constants';\n\nexport const Wrapper = styled.article`\n  --tile-width: ${TILE_WIDTH_MOBILE}px;\n  --spacing: ${(props) => props.theme.spacing.x1}px;\n  --border: 1px solid ${(props) => props.theme.color.divider.dark};\n  --border-radius: ${(props) => props.theme.dimension.outerArea.borderRadius};\n  --padding-x: ${({ theme }) => theme.spacing.x1}px;\n\n  width: var(--tile-width);\n  height: 100%;\n  box-sizing: border-box;\n  border-radius: var(--border-radius);\n  background-color: ${({ theme }) => theme.color.canvas.base};\n  text-align: center;\n\n  @media ${device.tablet} {\n    --padding-x: ${({ theme }) => theme.spacing.x2}px;\n    --tile-width: ${TILE_WIDTH_TABLET}px;\n  }\n\n  @media ${device.laptop} {\n    --padding-x: ${({ theme }) => theme.spacing.x1_5}px;\n    --spacing: ${({ theme }) => theme.spacing.x1_5}px;\n    --tile-width: ${TILE_WIDTH_LAPTOP}px;\n  }\n`;\n\nexport const ImageWrapper = styled.div`\n  overflow: hidden;\n  border-radius: var(--border-radius) var(--border-radius) 0 0;\n  aspect-ratio: 3 / 2;\n\n  img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n`;\n\nexport const ContentWrapper = styled.div`\n  padding-right: var(--padding-x);\n  padding-left: var(--padding-x);\n`;\n\nexport const BestFor = styled.a`\n  --height: 54px;\n  --line-height: ${({ theme }) =>\n    theme.textStyle.productCarouselCardBestFor.mobile.lineHeight};\n  display: block;\n  height: var(--height);\n  padding-top: ${({ theme }) => theme.spacing.x1_5}px;\n  color: ${({ theme }) => theme.color.actionBlack.base};\n  font: ${({ theme }) =>\n    theme.textStyle.productCarouselCardBestFor.mobile.font};\n  transition: ${({ theme }) => theme.transition.link};\n\n  &:hover,\n  &:focus,\n  &:active {\n    color: ${({ theme }) => theme.color.actionBlack.alt};\n  }\n\n  @media ${device.tablet} {\n    --height: 60px;\n    --line-height: ${({ theme }) =>\n      theme.textStyle.productCarouselCardBestFor.tablet.lineHeight};\n    font: ${({ theme }) =>\n      theme.textStyle.productCarouselCardBestFor.tablet.font};\n  }\n\n  @media ${device.laptop} {\n    --height: 66px;\n    --line-height: ${({ theme }) =>\n      theme.textStyle.productCarouselCardBestFor.laptop.lineHeight};\n    font: ${({ theme }) =>\n      theme.textStyle.productCarouselCardBestFor.laptop.font};\n  }\n\n  ${clampLines(3, '--line-height')}\n`;\n\nexport const Rating = styled(StarRating)`\n  justify-content: center;\n  padding: ${({ theme }) => theme.spacing.x1}px 0;\n`;\n\nexport const TitleOverlapFacilitator = styled.span`\n  /*\n    We need to allow for the text to overspill the boundary of the title\n    otherwise the truncation ellipsis is clipped as it is not considered when\n    calculating the width of the wrapper. If padding is used then overflowing\n    text is visible.\n  */\n  display: block;\n  padding: var(--spacing) var(--padding-x) 0 0;\n  margin: 0 calc(var(--padding-x) * -1) var(--spacing) 0;\n\n  ${clampLines(3, '--line-height')}\n`;\n\nexport const Title = styled.strong`\n  --line-height: ${({ theme }) =>\n    theme.textStyle.productCarouselCardTitle.mobile.lineHeight};\n  display: block;\n  border-top: var(--border);\n  border-bottom: var(--border);\n  font: ${({ theme }) => theme.textStyle.productCarouselCardTitle.mobile.font};\n\n  @media ${device.tablet} {\n    --line-height: ${({ theme }) =>\n      theme.textStyle.productCarouselCardTitle.tablet.lineHeight};\n    font: ${({ theme }) =>\n      theme.textStyle.productCarouselCardTitle.tablet.font};\n  }\n\n  @media ${device.laptop} {\n    --line-height: ${({ theme }) =>\n      theme.textStyle.productCarouselCardTitle.laptop.lineHeight};\n    font: ${({ theme }) =>\n      theme.textStyle.productCarouselCardTitle.laptop.font};\n  }\n`;\n\nexport const ReviewButton = styled(Button).attrs({\n  forwardedAs: 'a',\n  size: 'large',\n  variant: BUTTON_VARIANT_TERTIARY,\n})``;\n\nexport const Price = styled.div`\n  display: flex;\n  width: 100%;\n  height: 38px;\n  min-height: ${({ theme }) =>\n    theme.textStyle.productCarouselCardPrice.lineHeight};\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n  border-top: var(--border);\n  border-bottom: var(--border);\n  font: ${({ theme }) => theme.textStyle.productCarouselCardPrice.font};\n`;\n\nexport const BuyButtonContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: ${FOOTER_SPACING}px 0;\n`;\n\nexport const BuyButton = styled(Button).attrs({\n  forwardedAs: 'a',\n  variant: BUTTON_VARIANT_SECONDARY,\n})`\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nexport const SelectProduct = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-bottom: ${({ theme }) => theme.spacing.x1_5}px;\n`;\n","import { FC } from 'react';\n\nimport Checkbox from '#components/Checkbox';\nimport LoadingEllipsis from '#components/LoadingEllipsis';\nimport { MAX_SELECTED_ITEMS } from '#components/ProductComparison/ControlBar/ControlBar.constants';\n\nimport {\n  BUY_NOW_LABEL,\n  UNAVAILABLE_LABEL,\n} from './ProductCarouselCard.constants';\nimport {\n  BestFor,\n  BuyButton,\n  ContentWrapper,\n  SelectProduct,\n  ImageWrapper,\n  Price,\n  ReviewButton,\n  Rating,\n  Title,\n  TitleOverlapFacilitator,\n  Wrapper,\n  BuyButtonContainer,\n} from './ProductCarouselCard.styles';\nimport { ProductCarouselCardProps } from './ProductCarouselCard.types';\n\nconst ProductCarouselCard: FC<ProductCarouselCardProps> = ({\n  product: {\n    id,\n    anchorHref,\n    bestForPrefixed,\n    image,\n    title,\n    rating,\n    isAvailable,\n  },\n  isComparison,\n  isLoading = false,\n  price,\n  vendorLink,\n  selectedItemIDs,\n  onToggleSelectedProduct,\n  onBuyNowClick,\n  onReadReviewClick,\n}) => {\n  const isDisabled =\n    !selectedItemIDs.includes(id) &&\n    selectedItemIDs.length >= MAX_SELECTED_ITEMS;\n\n  const handleReadReviewClick = () => onReadReviewClick(id, title, price);\n  const handleBuyNowClick = () => onBuyNowClick(id, title, price);\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    onToggleSelectedProduct(id, title, price, event.currentTarget.checked);\n\n  return (\n    <Wrapper>\n      <ImageWrapper>{image}</ImageWrapper>\n      <ContentWrapper>\n        <BestFor href={anchorHref}>{bestForPrefixed}</BestFor>\n        <Rating value={rating} />\n        <Title>\n          <TitleOverlapFacilitator>{title}</TitleOverlapFacilitator>\n        </Title>\n        <ReviewButton href={anchorHref} onClick={handleReadReviewClick}>\n          Read review\n        </ReviewButton>\n        <Price>\n          {isLoading ? <LoadingEllipsis /> : <strong>{price}</strong>}\n        </Price>\n        <BuyButtonContainer>\n          <BuyButton\n            href={vendorLink}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            disabled={!isAvailable}\n            isExternal={true}\n            onClick={handleBuyNowClick}\n          >\n            {isAvailable ? BUY_NOW_LABEL : UNAVAILABLE_LABEL}\n          </BuyButton>\n        </BuyButtonContainer>\n\n        {isComparison && (\n          <SelectProduct>\n            <Checkbox\n              id={id}\n              checked={selectedItemIDs.includes(id)}\n              disabled={isDisabled}\n              onChange={handleChange}\n            >\n              Compare\n            </Checkbox>\n          </SelectProduct>\n        )}\n      </ContentWrapper>\n    </Wrapper>\n  );\n};\n\nexport default ProductCarouselCard;\n"],"names":["MAX_SELECTED_ITEMS","MIN_SELECTED_ITEMS","STATUS_TESTID","RESET_BUTTON_LABEL","COMPARE_BUTTON_LABEL","RESET_BUTTON_TESTID","COMPARE_BUTTON_TESTID","FOOTER_SPACING","spacing","TILE_WIDTH_MOBILE","TILE_WIDTH_TABLET","TILE_WIDTH_LAPTOP","UNAVAILABLE_LABEL","BUY_NOW_LABEL","Wrapper","styled","article","withConfig","componentId","props","theme","x1","color","divider","dark","dimension","outerArea","borderRadius","canvas","base","device","x2","x1_5","ImageWrapper","div","ContentWrapper","BestFor","a","textStyle","productCarouselCardBestFor","mobile","lineHeight","actionBlack","font","transition","link","alt","tablet","laptop","clampLines","Rating","StarRating","TitleOverlapFacilitator","span","Title","strong","productCarouselCardTitle","ReviewButton","Button","attrs","forwardedAs","size","variant","BUTTON_VARIANT_TERTIARY","Price","productCarouselCardPrice","BuyButtonContainer","BuyButton","BUTTON_VARIANT_SECONDARY","SelectProduct","ProductCarouselCard","__name","id","anchorHref","bestForPrefixed","image","title","rating","isAvailable","isComparison","price","vendorLink","selectedItemIDs","onToggleSelectedProduct","onBuyNowClick","isDisabled","handleReadReviewClick","onReadReviewClick","handleBuyNowClick","handleChange","event","jsxs","jsx","isLoading","LoadingEllipsis","Checkbox","ProductCarouselCard$1"],"mappings":"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"}