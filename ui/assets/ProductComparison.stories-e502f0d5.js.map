{"version":3,"file":"ProductComparison.stories-e502f0d5.js","sources":["../../../src/components/ProductComparison/ProductComparison.constants.ts","../../../src/components/ProductComparison/ControlBar/ControlBar.styles.ts","../../../src/components/ProductComparison/ControlBar/ControlBar.tsx","../../../src/components/ProductComparison/ProductComparison.tsx"],"sourcesContent":["export const PRODUCT_COMPARISON_RESET = 'product-comparison-reset';\n","import { styled } from 'styled-components';\n\nimport { default as UIButton } from '#components/Button';\nimport { BUTTON_VARIANT_TERTIARY } from '#components/Button/Button.constants';\n\nimport * as device from '#theme/devices';\n\nexport const Wrapper = styled.div`\n  --gap: ${({ theme }) => theme.spacing.x2}px;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  gap: var(--gap);\n  padding: 0 ${({ theme }) => theme.spacing.x2}px\n    ${({ theme }) => theme.spacing.x2}px;\n  background: ${({ theme }) => theme.color.canvas.secondary};\n`;\n\nexport const Cards = styled.div`\n  --border-radius: 8px;\n  display: none;\n  flex-grow: 1;\n  gap: var(--gap);\n\n  @media ${device.tablet} {\n    display: flex;\n  }\n`;\n\nexport const Card = styled.div`\n  display: grid;\n  width: calc(50% - (var(--gap) / 2));\n  align-items: center;\n  grid-template-columns: auto 1fr;\n  border-radius: var(--border-radius);\n  background: ${({ theme }) => theme.color.canvas.card};\n`;\n\nexport const Image = styled.div`\n  overflow: hidden;\n  height: 44px;\n  aspect-ratio: 3/2;\n  border-bottom-left-radius: var(--border-radius);\n  border-top-left-radius: var(--border-radius);\n\n  img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n`;\n\nexport const Text = styled.div`\n  --line-height: 16px;\n  display: -webkit-box;\n  overflow: hidden;\n  padding: 0 ${({ theme }) => theme.spacing.x1}px;\n  -webkit-box-orient: vertical;\n  font: normal 14px / var(--line-height)\n    ${({ theme }) => theme.fontFamily.secondaryFont};\n  -webkit-line-clamp: 2;\n\n  /* don't use clampLines here since we don't want to explicitly set the height of this element */\n  line-height: var(--line-height);\n  text-overflow: initial;\n  white-space: initial;\n`;\n\nexport const TextContainer = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const Buttons = styled.div`\n  display: flex;\n  width: 100%;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  gap: var(--gap);\n\n  @media ${device.tablet} {\n    width: auto;\n  }\n\n  @media ${device.laptop} {\n    width: auto;\n  }\n`;\n\nexport const CompareButton = styled(UIButton)`\n  /* eyeballed */\n  gap: 2px;\n`;\n\nexport const ClearButton = styled(UIButton).attrs({\n  variant: BUTTON_VARIANT_TERTIARY,\n  type: 'reset',\n})`\n  white-space: nowrap;\n`;\n\nexport const Status = styled.var`\n  /* eyeballed */\n  width: 3em;\n  font-style: inherit;\n`;\n","import { FC } from 'react';\n\nimport { PRODUCT_COMPARISON_RESET } from '../ProductComparison.constants';\n\nimport {\n  COMPARE_BUTTON_LABEL,\n  MAX_SELECTED_ITEMS,\n  MIN_SELECTED_ITEMS,\n  RESET_BUTTON_LABEL,\n  COMPARE_BUTTON_TESTID,\n  RESET_BUTTON_TESTID,\n  STATUS_TESTID,\n} from './ControlBar.constants';\nimport {\n  Buttons,\n  Card,\n  Cards,\n  ClearButton,\n  CompareButton,\n  Image,\n  Status,\n  Text,\n  TextContainer,\n  Wrapper,\n} from './ControlBar.styles';\nimport { ControlBarProps } from './ControlBar.types';\n\nconst ControlBar: FC<ControlBarProps> = ({\n  clearItems,\n  items,\n  onCompareClick,\n}) => {\n  return (\n    <Wrapper>\n      <Cards>\n        {items.map((item) => (\n          <Card key={item.id}>\n            <Image>{item.image}</Image>\n            <TextContainer>\n              <Text>{item.title}</Text>\n            </TextContainer>\n          </Card>\n        ))}\n      </Cards>\n      <Buttons>\n        <ClearButton\n          id={PRODUCT_COMPARISON_RESET}\n          data-testid={RESET_BUTTON_TESTID}\n          disabled={items.length === 0}\n          onClick={clearItems}\n        >\n          {RESET_BUTTON_LABEL}\n        </ClearButton>\n        <CompareButton\n          data-testid={COMPARE_BUTTON_TESTID}\n          disabled={items.length < MIN_SELECTED_ITEMS}\n          onClick={onCompareClick}\n        >\n          {COMPARE_BUTTON_LABEL}\n          <Status data-testid={STATUS_TESTID}>\n            ({items.length}/{MAX_SELECTED_ITEMS})\n          </Status>\n        </CompareButton>\n      </Buttons>\n    </Wrapper>\n  );\n};\nexport default ControlBar;\n","import { FC } from 'react';\n\nimport ControlBar from './ControlBar';\nimport Modal from './Modal';\nimport { ProductComparisonProps } from './ProductComparison.types';\nimport Table from './Table';\nimport { createSelectedItems } from './helpers/createSelectedItems';\n\nconst ProductComparison: FC<ProductComparisonProps> = (props) => {\n  const {\n    livePrices,\n    products,\n    returnFocus,\n    selectedItemIDs,\n    dispatchers,\n    showModal,\n    onBuyNowClick,\n    onReadReviewClick,\n  } = props;\n\n  const selectedItems = createSelectedItems(selectedItemIDs, products);\n\n  return (\n    <>\n      <ControlBar\n        items={selectedItems}\n        clearItems={dispatchers.clearProductSelection}\n        onCompareClick={dispatchers.showProductModal}\n      />\n      <Modal\n        livePrices={livePrices}\n        items={selectedItems}\n        isHidden={!showModal}\n        returnFocus={returnFocus}\n        hideProductModal={dispatchers.hideProductModal}\n        onBuyNowClick={onBuyNowClick}\n        onReadReviewClick={onReadReviewClick}\n      >\n        <Table livePrices={livePrices} items={selectedItems} />\n      </Modal>\n    </>\n  );\n};\n\nexport default ProductComparison;\n"],"names":["PRODUCT_COMPARISON_RESET","Wrapper","styled","div","withConfig","componentId","theme","spacing","x2","color","canvas","secondary","Cards","device","Card","card","Image","Text","x1","fontFamily","secondaryFont","TextContainer","Buttons","CompareButton","UIButton","ClearButton","attrs","variant","BUTTON_VARIANT_TERTIARY","type","Status","var","ControlBar","__name","clearItems","items","jsxs","jsx","item","RESET_BUTTON_TESTID","RESET_BUTTON_LABEL","COMPARE_BUTTON_TESTID","MIN_SELECTED_ITEMS","onCompareClick","COMPARE_BUTTON_LABEL","length","MAX_SELECTED_ITEMS","ProductComparison","props","livePrices","products","returnFocus","selectedItemIDs","dispatchers","showModal","onBuyNowClick","onReadReviewClick","selectedItems","createSelectedItems","Fragment","Modal","Table"],"mappings":"2mEAAO,MAAMA,EAA2B,2BCO3BC,EAAUC,EAAOC,IAAGC,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,SAAA,2FAAA,MAAA,iBAAA,GAAA,EACtB,CAAC,CAAEC,MAAAA,CAAM,IAAMA,EAAMC,QAAQC,GAKzB,CAAC,CAAEF,MAAAA,CAAM,IAAMA,EAAMC,QAAQC,GACtC,CAAC,CAAEF,MAAAA,CAAM,IAAMA,EAAMC,QAAQC,GACnB,CAAC,CAAEF,MAAAA,CAAM,IAAMA,EAAMG,MAAMC,OAAOC,SAAS,EAG9CC,EAAQV,EAAOC,IAAGC,WAAA,CAAAC,YAAA,aAAA,CAMpBQ,EAAAA,CAAAA,sEAAAA,iBAAAA,EAAAA,CAAa,EAKXC,EAAOZ,EAAOC,IAAGC,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,mJAAA,GAAA,EAMd,CAAC,CAAEC,MAAAA,CAAM,IAAMA,EAAMG,MAAMC,OAAOK,IAAI,EAGzCC,EAAQd,EAAOC,IAAGC,WAAA,CAAAC,YAAA,aAAA,CAa9B,EAAA,CAAA,uMAAA,CAAA,EAEYY,EAAOf,EAAOC,IAAGC,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,oEAAA,wEAAA,iGAAA,EAIf,CAAC,CAAEC,MAAAA,CAAM,IAAMA,EAAMC,QAAQW,GAGtC,CAAC,CAAEZ,MAAAA,CAAM,IAAMA,EAAMa,WAAWC,aAAa,EAStCC,EAAgBnB,EAAOC,IAAGC,WAAA,CAAAC,YAAA,aAAA,CAGtC,EAAA,CAAA,kCAAA,CAAA,EAEYiB,EAAUpB,EAAOC,IAAGC,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,gGAAA,uBAAA,eAAA,EAOtBQ,EAIAA,CAAa,EAKXU,EAAgBrB,EAAOsB,CAAQ,EAACpB,WAAA,CAAAC,YAAA,aAAA,CAG5C,EAAA,CAAA,UAAA,CAAA,EAEYoB,GAAcvB,EAAOsB,CAAQ,EAAEE,MAAM,CAChDC,QAASC,EACTC,KAAM,OACR,CAAC,EAACzB,WAAA,CAAAC,YAAA,aAAA,CAED,EAAA,CAAA,qBAAA,CAAA,EAEYyB,GAAS5B,EAAO6B,IAAG3B,WAAA,CAAAC,YAAA,aAAA,CAI/B,EAAA,CAAA,+BAAA,CAAA,EC/ED2B,EAAAC,EAAA,CAAA,CAAyC,WAAAC,EACvCA,MAAAA,EACAC,eAAAA,CAEF,IACEC,EAAA,KAAAnC,EAAA,CAAA,SAAA,CAEIoC,EAAAA,IAAAzB,EAAA,CAAA,SAAAuB,EAAA,IAAAG,GAAAF,EAAA,KAAAtB,EAAA,CAAA,SAAA,CAGMuB,EAAAA,IAAArB,EAAA,CAAA,SAAAsB,EAAA,KAAA,CAAA,EAAmBD,EAAAA,IAAAhB,EAAA,CAAA,SAAAgB,MAAApB,EAAA,CAAA,SAAAqB,EAAA,KAAA,CAAA,EAAA,CAGnB,CAAA,EAAAA,EAAA,EAAA,CAAA,EAAA,EAGNF,OAAAd,EAAA,CAAA,SAAA,CAEEe,EAAA,IAAAZ,GAAA,CAAA,GAAAzB,EAAA,cAAAuC,EAAA,SAAAJ,EAAA,SAAA,EAAA,QAAAD,EAAA,SAAAM,EAAA,EAOAJ,EAAAA,KAAAb,EAAA,CAAA,cAAAkB,EAAA,SAAAN,EAAA,OAAAO,EAAA,QAAAC,EAAA,SAAA,CAMGC,EAAAA,EAAAA,KAAAA,GAAAA,CAAAA,cAAAA,EAAAA,SAAAA,CACkC,IAAAT,EAAA,OACzBU,IAAOC,EAAEA,GAAmB,EAAA,CACtC,EAAA,CACF,EAAA,CACF,CAAA,CAAA,EApCN,8ZCnBA,MAAAC,EAAAd,EAAAe,GAAA,CACE,KAAA,CAAM,WAAAC,EACJA,SAAAA,EACAC,YAAAA,EACAC,gBAAAA,EACAC,YAAAA,EACAC,UAAAA,EACAC,cAAAA,EACAC,kBAAAA,CACAC,EAAAA,EAGFC,EAAAC,EAAAN,EAAAF,CAAA,EAEA,OAAAd,EAAA,KAAAuB,WAAA,CAAA,SAAA,CAEItB,EAAAA,IAAAL,EAAA,CAAA,MAAAyB,EAAA,WAAAJ,EAAA,sBAAA,eAAAA,EAAA,gBAAA,CAAA,EAG+ChB,MAAAuB,EAAA,CAAA,WAAAX,EAAA,MAAAQ,EAAA,SAAA,CAAAH,EAAA,YAAAH,EAAA,iBAAAE,EAAA,iBAAA,cAAAE,EAAA,kBAAAC,EAAA,SAAAnB,MAAAwB,EAAA,CAAA,WAAAZ,EAAA,MAAAQ,CAAA,CAAA,EAAA,CAY/C,CAAA,CAAA,CAGN,EAlCA;;;;;;;;;;;;;;;;;"}