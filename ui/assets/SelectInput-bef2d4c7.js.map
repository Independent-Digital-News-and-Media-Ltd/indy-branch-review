{"version":3,"file":"SelectInput-bef2d4c7.js","sources":["../../../src/components/Form/Input/SelectInput/SelectInput.styles.ts","../../../src/components/Form/Input/SelectInput/SelectInput.tsx"],"sourcesContent":["import { HTMLProps } from 'react';\nimport { styled } from 'styled-components';\n\nimport Icon, { SIZE_SMALL } from '#components/Icon';\n\nimport { BaseInput } from '../Input.styles';\n\nexport const Select = styled(BaseInput).attrs({\n  as: 'select',\n})`\n  /* https://caniuse.com/css-appearance - \"appearance: none;\" is supported */\n  /* stylelint-disable-next-line plugin/no-unsupported-browser-features -- see above */\n  appearance: none;\n` as React.FC<HTMLProps<HTMLSelectElement>>;\n\nexport const DropdownIcon = styled(Icon).attrs({\n  size: SIZE_SMALL,\n})`\n  flex-shrink: 0;\n  color: ${({ theme }) => theme.color.actionSubtleDark.base};\n`;\n\nexport const IconWrapper = styled.div`\n  display: flex;\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: var(--input-height);\n  align-items: center;\n  justify-content: center;\n  padding-right: ${({ theme }) => theme.spacing.x2}px;\n  pointer-events: none;\n`;\n","import React from 'react';\nimport { useFormContext } from 'react-hook-form';\n\nimport { InputState } from '../Input.types';\nimport FormInputWrapper from '../InputWrapper';\n\nimport { IconWrapper, Select, DropdownIcon } from './SelectInput.styles';\nimport { SelectProps } from './SelectInput.types';\n\nimport ChevronSvg from '#icons/chevron-down-solid-16.svg';\n\nconst SelectInput: React.FC<SelectProps> = ({\n  id,\n  label,\n  helpText,\n  className,\n  message,\n  state = InputState.DEFAULT,\n  required = false,\n  controlled = true,\n  options,\n  defaultValue,\n  ...inputProps\n}) => {\n  const form = useFormContext();\n\n  if (controlled && !form) {\n    throw new Error(\n      `FormInput components should have FormProvider & Form from @indy/ui/Form as parents, unless the controlled={false} prop is set`,\n    );\n  }\n\n  const hasDefaultValue = defaultValue !== undefined;\n\n  // Check for context so we can use this input as a\n  // standalone component without react-hook-form\n  const inputRegistration = controlled ? form.register(id) : {};\n\n  return (\n    <FormInputWrapper\n      id={id}\n      label={label}\n      helpText={helpText}\n      required={required}\n      state={state}\n      message={message}\n      className={className}\n    >\n      <Select\n        id={id}\n        defaultValue={defaultValue || ''}\n        {...inputProps}\n        {...inputRegistration}\n      >\n        {!hasDefaultValue && (\n          <option value=\"\" disabled={true}>\n            Select\n          </option>\n        )}\n        {options.map((option) => (\n          <option key={option.value}>{option.label}</option>\n        ))}\n      </Select>\n      <IconWrapper>\n        <DropdownIcon svg={ChevronSvg} />\n      </IconWrapper>\n    </FormInputWrapper>\n  );\n};\n\nexport default SelectInput;\n"],"names":["Select","styled","BaseInput","attrs","as","withConfig","componentId","React","DropdownIcon","Icon","size","SIZE_SMALL","theme","color","actionSubtleDark","base","IconWrapper","div","spacing","x2","SelectInput","__name","id","label","helpText","className","message","DEFAULT","controlled","options","defaultValue","form","useFormContext","hasDefaultValue","inputRegistration","jsxs","FormInputWrapper","required","state","inputProps","jsx","option","ChevronSvg","SelectInput$1"],"mappings":"kZAOO,MAAMA,EAASC,EAAOC,CAAS,EAAEC,MAAM,CAC5CC,GAAI,QACN,CAAC,EAACC,WAAA,CAAAC,YAAA,aAAA,CAIGC,EAAAA,CAAAA,kBAAAA,CAAAA,EAEQC,EAAeP,EAAOQ,CAAI,EAAEN,MAAM,CAC7CO,KAAMC,CACR,CAAC,EAACN,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,uBAAA,GAAA,EAES,CAAC,CAAEM,MAAAA,CAAM,IAAMA,EAAMC,MAAMC,iBAAiBC,IAAI,EAG9CC,EAAcf,EAAOgB,IAAGZ,WAAA,CAAAC,YAAA,aAAA,CAAA,EAAA,CAAA,mIAAA,yBAAA,EAQlB,CAAC,CAAEM,MAAAA,CAAM,IAAMA,EAAMM,QAAQC,EAAE,ECnBlDC,EAAAC,EAAA,CAAA,CAA4C,GAAAC,EAC1CA,MAAAA,EACAC,SAAAA,EACAC,UAAAA,EACAC,QAAAA,EACAC,MAAAA,EAAAA,EAAAA,QACmBC,SAAAA,EAAAA,GACR,WAAAC,EAAA,GACE,QAAAC,EACbA,aAAAA,EACAC,GAAAA,CAEF,IAAA,CACE,MAAAC,EAAAC,IAEA,GAAAJ,GAAA,CAAAG,EACE,MAAA,IAAA,MAAA,+HAAA,EAKF,MAAAE,EAAAH,IAAA,OAIAI,EAAAN,EAAAG,EAAA,SAAAT,CAAA,EAAA,GAEA,OAAAa,OAAAC,EAAA,CAAA,GAAAd,EAAA,MAAAC,EAAA,SAAAC,EAAA,SAAAa,EAAA,MAAAC,EAAA,QAAAZ,EAAA,UAAAD,EAAA,SAAA,CAUIU,EAAAA,KAAAnC,EAAA,CAAA,GAAAsB,EAAA,aAAAQ,GAAA,GAAA,GAAAS,EAAA,GAAAL,EAAA,SAAA,CAMG,CAAAD,GAAAO,EAAAA,IAAA,SAAA,CAAA,MAAA,GAAA,SAAA,GAAA,SAAA,SAAA,EAGCX,EAAA,IAAAY,GAAAD,EAAA,IAAA,SAAA,CAAA,SAAAC,EAAA,KAAA,EAAAA,EAAA,KAAA,CAAA,CAID,EAAA,EACHD,MAAAxB,EAAA,CAAA,SAAAwB,EAAA,IAAAhC,EAAA,CAAA,IAAAkC,CAAA,CAAA,EAAA,CAGA,CAAA,CAAA,CAGN,EAzDA,eA2DAC,EAAAvB;;;;;;;"}