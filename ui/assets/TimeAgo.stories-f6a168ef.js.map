{"version":3,"file":"TimeAgo.stories-f6a168ef.js","sources":["../../../src/components/TimeAgo/TimeAgo.tsx"],"sourcesContent":["import { useEffect, useMemo, useState, FC } from 'react';\n\nimport { TimeAgoProps } from './TimeAgo.types';\n\nexport const getTimeUnits = (secondsAgo: number) => {\n  const minutesAgo = Math.floor(secondsAgo / 60);\n  const hoursAgo = Math.floor(minutesAgo / 60);\n  const daysAgo = Math.floor(hoursAgo / 24);\n  const weeksAgo = Math.floor(daysAgo / 7);\n  const monthsAgo = Math.floor(daysAgo / 30);\n  const yearsAgo = Math.floor(monthsAgo / 12);\n\n  return {\n    yearsAgo,\n    monthsAgo,\n    weeksAgo,\n    daysAgo,\n    hoursAgo,\n    minutesAgo,\n  };\n};\n\nexport const getFormattedTimeAgoEn = (secondsAgo: number) => {\n  if (secondsAgo === 0) {\n    return '';\n  }\n\n  const { yearsAgo, monthsAgo, weeksAgo, daysAgo, hoursAgo, minutesAgo } =\n    getTimeUnits(secondsAgo);\n\n  if (minutesAgo === 0) {\n    return `${secondsAgo} second${secondsAgo > 1 ? 's' : ''} ago`;\n  }\n\n  if (hoursAgo === 0) {\n    return `${minutesAgo} minute${minutesAgo > 1 ? 's' : ''} ago`;\n  }\n\n  if (daysAgo === 0) {\n    return `${hoursAgo} hour${hoursAgo > 1 ? 's' : ''} ago`;\n  }\n\n  if (weeksAgo === 0) {\n    return `${daysAgo} day${daysAgo > 1 ? 's' : ''} ago`;\n  }\n\n  if (monthsAgo === 0) {\n    return `${weeksAgo} week${weeksAgo > 1 ? 's' : ''} ago`;\n  }\n\n  if (yearsAgo === 0) {\n    return `${monthsAgo} month${monthsAgo > 1 ? 's' : ''} ago`;\n  }\n\n  return `${yearsAgo} year${yearsAgo > 1 ? 's' : ''} ago`;\n};\n\nexport const getFormattedTimeAgoEs = (secondsAgo: number) => {\n  if (secondsAgo === 0) {\n    return '';\n  }\n\n  const { yearsAgo, monthsAgo, weeksAgo, daysAgo, hoursAgo, minutesAgo } =\n    getTimeUnits(secondsAgo);\n\n  if (minutesAgo === 0) {\n    return `Hace ${secondsAgo} segundo${secondsAgo > 1 ? 's' : ''}`;\n  }\n\n  if (hoursAgo === 0) {\n    return `Hace ${minutesAgo} minuto${minutesAgo > 1 ? 's' : ''}`;\n  }\n\n  if (daysAgo === 0 && hoursAgo === 1) {\n    return `${hoursAgo} hora antes`;\n  } else if (daysAgo === 0) {\n    return `Hace ${hoursAgo} hora${hoursAgo > 1 ? 's' : ''}`;\n  }\n\n  if (weeksAgo === 0) {\n    return `Hace ${daysAgo} día${daysAgo > 1 ? 's' : ''}`;\n  }\n\n  if (monthsAgo === 0) {\n    return `Hace ${weeksAgo} semana${weeksAgo > 1 ? 's' : ''}`;\n  }\n\n  if (yearsAgo === 0) {\n    return `Hace ${monthsAgo} mes${monthsAgo > 1 ? 'es' : ''}`;\n  }\n\n  return `Hace ${yearsAgo} año${yearsAgo > 1 ? 's' : ''}`;\n};\n\nconst TimeAgo: FC<TimeAgoProps> = ({ lang, timestamp }) => {\n  const [seconds, setSeconds] = useState(0);\n\n  useEffect(() => {\n    setSeconds(Math.floor(Date.now() / 1000) - timestamp);\n\n    const intervalId = setInterval(() => {\n      setSeconds((currentValue) => currentValue + 1);\n    }, 1000);\n\n    // cleanup function\n    return () => clearInterval(intervalId);\n  }, [timestamp]);\n\n  const formattedTimeAgo = useMemo(\n    () =>\n      lang === 'es'\n        ? getFormattedTimeAgoEs(seconds)\n        : getFormattedTimeAgoEn(seconds),\n    [lang, seconds],\n  );\n\n  const fullDateTime = new Date(timestamp * 1000);\n\n  return <span title={fullDateTime.toString()}>{formattedTimeAgo}</span>;\n};\n\nexport default TimeAgo;\n"],"names":["getTimeUnits","__name","secondsAgo","minutesAgo","hoursAgo","daysAgo","weeksAgo","monthsAgo","yearsAgo","getFormattedTimeAgoEn","getFormattedTimeAgoEs","TimeAgo","lang","seconds","setSeconds","useState","useEffect","intervalId","timestamp","formattedTimeAgo","useMemo","fullDateTime","jsx","TimeAgo$1"],"mappings":"4MAIO,MAAAA,EAAAC,EAAAC,GAAA,CACL,MAAAC,EAAA,KAAA,MAAAD,EAAA,EAAA,EACAE,EAAA,KAAA,MAAAD,EAAA,EAAA,EACAE,EAAA,KAAA,MAAAD,EAAA,EAAA,EACAE,EAAA,KAAA,MAAAD,EAAA,CAAA,EACAE,EAAA,KAAA,MAAAF,EAAA,EAAA,EAGA,MAAA,CAAO,SAFP,KAAA,MAAAE,EAAA,EAAA,EAGEC,UAAAA,EACAD,SAAAA,EACAD,QAAAA,EACAD,SAAAA,EACAD,WAAAA,CACAD,CAEJ,EAhBO,gBAkBAM,EAAAR,EAAAC,GAAA,CACL,GAAAA,IAAA,EACE,MAAA,GAGF,KAAA,CAAM,SAAAM,EAAEA,UAAAA,EAAUD,SAAAA,EAAWD,QAAAA,EAAUD,SAAAA,EAASD,WAAAA,CAAUD,EAAAA,EAAAA,CAAAA,EAG1D,OAAAA,IAAA,EACE,GAAAD,WAAAA,EAAA,EAAA,IAAA,SAGFE,IAAA,EACE,GAAAD,WAAAA,EAAA,EAAA,IAAA,SAGFE,IAAA,EACE,GAAAD,SAAAA,EAAA,EAAA,IAAA,SAGFE,IAAA,EACE,GAAAD,QAAAA,EAAA,EAAA,IAAA,SAGFE,IAAA,EACE,GAAAD,SAAAA,EAAA,EAAA,IAAA,SAGFE,IAAA,EACE,GAAAD,UAAAA,EAAA,EAAA,IAAA,SAGF,GAAAC,SAAAA,EAAA,EAAA,IAAA,QACF,EAjCO,yBAmCAE,EAAAT,EAAAC,GAAA,CACL,GAAAA,IAAA,EACE,MAAA,GAGF,KAAA,CAAM,SAAAM,EAAEA,UAAAA,EAAUD,SAAAA,EAAWD,QAAAA,EAAUD,SAAAA,EAASD,WAAAA,CAAUD,EAAAA,EAAAA,CAAAA,EAG1D,OAAAA,IAAA,EACE,QAAAD,YAAAA,EAAA,EAAA,IAAA,KAGFE,IAAA,EACE,QAAAD,WAAAA,EAAA,EAAA,IAAA,KAGFE,IAAA,GAAAD,IAAA,EACE,GAAAA,eAAUA,IAAAA,EAEV,QAAAA,SAAAA,EAAA,EAAA,IAAA,KAGFE,IAAA,EACE,QAAAD,QAAAA,EAAA,EAAA,IAAA,KAGFE,IAAA,EACE,QAAAD,WAAAA,EAAA,EAAA,IAAA,KAGFE,IAAA,EACE,QAAAD,QAAAA,EAAA,EAAA,KAAA,KAGF,QAAAC,QAAAA,EAAA,EAAA,IAAA,IACF,EAnCO,yBAqCPG,EAAAV,EAAA,CAAA,CAAmC,KAAAW,EAAEA,UAAAA,CAAgB,IAAA,CACnD,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,EAEAC,EAAAA,UAAAA,IAAAA,CACEF,EAAAA,KAAAA,MAAAA,KAAAA,IAAAA,EAAAA,GAAAA,EAAAA,CAAAA,EAEA,MAAAG,EAAA,YAAA,IAAA,CACEH,EAAAA,GAAAA,EAAAA,CAAAA,CAA6C,EAAA,GAAA,EAI/C,MAAA,IAAA,cAAAG,CAAA,CAAqC,EAAA,CAAAC,CAAA,CAAA,EAGvC,MAAAC,EAAAC,EAAA,QAAA,IAAAR,IAAA,KAAAF,EAAAG,CAAA,EAAAJ,EAAAI,CAAA,EAAA,CAAAD,EAAAC,CAAA,CAAA,EAQAQ,EAAA,IAAA,KAAAH,EAAA,GAAA,EAEA,OAAAI,EAAA,IAAA,OAAA,CAAA,MAAAD,EAAA,WAAA,SAAAF,CAAA,CAAA,CACF,EAzBA,WA2BAI,EAAAZ;;;;;;;;;;;;;;;;;;;;"}