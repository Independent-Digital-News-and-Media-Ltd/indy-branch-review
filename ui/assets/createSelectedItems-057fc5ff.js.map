{"version":3,"file":"createSelectedItems-057fc5ff.js","sources":["../../../src/decorators/Laptop.tsx","../../../src/components/ProductComparison/CTAs/CTAs.constants.ts","../../../src/components/ProductComparison/ProductComparison.styles.ts","../../../src/components/ProductComparison/CTAs/CTAs.styles.ts","../../../src/components/ProductComparison/CTAs/helpers/getUpdatedLink.ts","../../../src/components/ProductComparison/CTAs/CTAs.tsx","../../../src/components/ProductComparison/Modal/Modal.constants.ts","../../../src/components/ProductComparison/Modal/Modal.styles.ts","../../../src/components/ProductComparison/Modal/Modal.tsx","../../../src/components/ProductComparison/Table/Table.constants.ts","../../../src/components/ProductComparison/Table/Table.styles.ts","../../../src/components/ProductComparison/Table/helpers/calculateSpecLength.ts","../../../src/components/ProductComparison/Table/helpers/getLivePrice.ts","../../../src/components/ProductComparison/Table/Table.tsx","../../../src/components/ProductComparison/helpers/collectProductSpecKeys.ts","../../../src/components/ProductComparison/helpers/normaliseProductSpecs.ts","../../../src/components/ProductComparisonCommon/builders/ItemBuilder.tsx","../../../src/components/ProductComparison/helpers/productsToItems.ts","../../../src/components/ProductComparison/helpers/createSelectedItems.ts"],"sourcesContent":["/**\n * @explain\n * This storybook decorator is used to provide a minimal height to the story.\n * Useful for components which use fixed/sticky positioning to be displayed.\n */\nimport { FC } from 'react';\nimport { styled } from 'styled-components';\n\nimport { laptop } from '#theme/viewports';\n\nconst Wrapper = styled.div`\n  .sb-main-fullscreen & {\n    min-height: ${laptop.styles.height};\n  }\n`;\n\nexport const Laptop = (Story: FC) => (\n  <Wrapper>\n    <Story />\n  </Wrapper>\n);\n","export const BUY_NOW_TEXT = 'Buy now';\nexport const REVIEW_TEXT = 'Read review';\n","import { styled } from 'styled-components';\n\nimport * as device from '#theme/devices';\n\nimport { LayoutProps } from './ProductComparison.types';\n\n/*\n *  extended in footer and in CTAs\n */\nexport const TwoColumnLayout = styled.div<LayoutProps>`\n  --padding-x: ${(props) => props.theme.spacing.x2}px;\n\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: ${({ theme }) => theme.spacing.x2}px;\n  padding-right: var(--padding-x);\n  padding-left: var(--padding-x);\n\n  @media ${device.tablet} {\n    --padding-x: ${({ theme }) => theme.spacing.x2}px;\n  }\n\n  @media ${device.laptop} {\n    --padding-x: ${({ theme }) => theme.spacing.x4}px;\n  }\n`;\n","import { styled } from 'styled-components';\n\nimport { TwoColumnLayout } from '../ProductComparison.styles';\n\nexport const ButtonGroup = styled(TwoColumnLayout)`\n  padding-top: ${({ theme }) => theme.spacing.x3}px;\n  padding-bottom: ${({ theme }) => theme.spacing.x3}px;\n`;\n\nexport const ItemButtons = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${({ theme }) => theme.spacing.x2}px;\n`;\n","import { LivePrice } from '#types/PageContext';\n\nexport const getUpdatedLink = (id: string, livePrices: LivePrice[]) => {\n  const livePrice = livePrices.find((livePrice) => livePrice.id === id);\n\n  return livePrice?.prices?.at(0)?.link || '';\n};\n","import Button from '#components/Button';\nimport { BUTTON_AS_ANCHOR } from '#components/Button/Button.constants';\n\nimport { BUY_NOW_TEXT, REVIEW_TEXT } from './CTAs.constants';\nimport { ButtonGroup, ItemButtons } from './CTAs.styles';\nimport { Props } from './CTAs.types';\nimport { getUpdatedLink } from './helpers/getUpdatedLink';\n\nconst CTAs = (props: Props) => {\n  const { items = [], livePrices, onReadReviewClick, onBuyNowClick } = props;\n\n  return (\n    <ButtonGroup>\n      {items.map(({ id, title, price, buyNow, readReview }) => (\n        <ItemButtons key={id}>\n          <Button\n            as={BUTTON_AS_ANCHOR}\n            variant=\"secondary\"\n            href={getUpdatedLink(id, livePrices) || buyNow?.vendorLink}\n            target=\"_blank\"\n            isExternal={buyNow.isExternal}\n            onClick={() => onBuyNowClick(id, title, price)}\n          >\n            {BUY_NOW_TEXT}\n          </Button>\n          <Button\n            as={BUTTON_AS_ANCHOR}\n            variant=\"tertiary\"\n            href={readReview.anchorHref}\n            target=\"_blank\"\n            onClick={() => onReadReviewClick(id, title, price)}\n          >\n            {REVIEW_TEXT}\n          </Button>\n        </ItemButtons>\n      ))}\n    </ButtonGroup>\n  );\n};\n\nexport default CTAs;\n","export const CLOSE_BUTTON_LABEL = 'Close';\n","import { styled } from 'styled-components';\n\nimport IconButton, { type IconButtonProps } from '#components/IconButton';\n\nimport * as device from '#theme/devices';\nimport * as dimensions from '#theme/dimensions';\nimport { customScrollbar } from '#theme/mixins';\n\nimport CloseSVG from '#icons/close-solid-24.svg';\n\nexport const Boundary = styled.div`\n  --width: 100vw;\n  --height: 100vh;\n  --border: 1px solid ${({ theme }) => theme.color.divider.light};\n  --border-radius: ${dimensions.outerArea.borderRadius};\n  --modal-padding-x: ${({ theme }) => theme.spacing.x1_5}px;\n\n  display: flex;\n  position: relative;\n  width: var(--width);\n  height: var(--height);\n  flex-flow: column;\n  align-items: stretch;\n  justify-content: flex-start;\n  margin: 0 auto;\n  border-radius: 0;\n  background-color: ${({ theme }) => theme.color.canvas.card};\n\n  @media ${device.tablet} {\n    --modal-padding-x: ${({ theme }) => theme.spacing.x3}px;\n    --width: 80vw;\n    --height: 90vh;\n\n    border-radius: var(--border-radius);\n    margin-block: calc((100vh - var(--height)) / 2);\n  }\n\n  @media ${device.laptop} {\n    --width: 755px;\n  }\n`;\n\nexport const Header = styled.div`\n  display: flex;\n  position: sticky;\n  top: 0;\n  z-index: 1;\n  flex: 0 0 auto;\n  align-items: center;\n  justify-content: flex-end;\n  padding: ${({ theme }) => theme.spacing.x1}px;\n  background: ${({ theme }) => theme.color.canvas.secondary};\n\n  @media ${device.tablet} {\n    border-radius: var(--border-radius) var(--border-radius) 0 0;\n  }\n`;\n\nexport const CloseButton = styled(IconButton).attrs({\n  svg: CloseSVG,\n  size: 'base',\n  isCosy: true,\n})<Omit<IconButtonProps, 'svg' | 'isCosy' | 'size'>>``;\n\nexport const Body = styled.div`\n  height: 100%;\n  overflow-x: clip;\n  overflow-y: auto;\n  ${customScrollbar}\n`;\n\nexport const Title = styled.div`\n  display: flex;\n  position: relative;\n  box-sizing: border-box;\n  justify-content: center;\n  padding: ${({ theme }) => theme.spacing.x1_5}px 0\n    ${({ theme }) => theme.spacing.x2}px;\n  border-bottom: var(--border);\n  background: ${({ theme }) => theme.color.canvas.secondary};\n  font: ${({ theme }) => theme.textStyle.productComparison.modal.title.base};\n\n  @media ${device.tablet} {\n    font: ${({ theme }) => theme.textStyle.productComparison.modal.title.large};\n  }\n`;\n\nexport const Footer = styled.footer`\n  border-top: var(--border);\n  background: ${({ theme }) => theme.color.canvas.secondary};\n\n  @media ${device.tablet} {\n    border-radius: 0 0 var(--border-radius) var(--border-radius);\n    border-top: var(--border);\n  }\n`;\n","import { FC } from 'react';\n\nimport { ModalPageSpecific } from '#components/Modal';\n\nimport CTAs from '../CTAs';\n\nimport { CLOSE_BUTTON_LABEL } from './Modal.constants';\nimport {\n  Boundary,\n  Header,\n  CloseButton,\n  Body,\n  Title,\n  Footer,\n} from './Modal.styles';\nimport { ModalProps } from './Modal.types';\n\nconst Modal: FC<ModalProps> = ({\n  children,\n  className,\n  isHidden,\n  items,\n  returnFocus,\n  livePrices,\n  hideProductModal,\n  onBuyNowClick,\n  onReadReviewClick,\n}) => {\n  const title = 'Compare Models';\n\n  return (\n    <ModalPageSpecific\n      className={className}\n      isHidden={isHidden}\n      onBackgroundClick={hideProductModal}\n      onEscapeKeyPress={hideProductModal}\n      returnFocus={returnFocus}\n      role=\"dialog\"\n    >\n      <Boundary>\n        <Header>\n          <CloseButton\n            title={CLOSE_BUTTON_LABEL}\n            aria-label={CLOSE_BUTTON_LABEL}\n            onClick={hideProductModal}\n          />\n        </Header>\n        <Body>\n          <Title>{title}</Title>\n          {children}\n          <Footer>\n            <CTAs\n              livePrices={livePrices}\n              items={items}\n              onBuyNowClick={onBuyNowClick}\n              onReadReviewClick={(id, name, price) => {\n                onReadReviewClick(id, name, price);\n                hideProductModal();\n              }}\n            />\n          </Footer>\n        </Body>\n      </Boundary>\n    </ModalPageSpecific>\n  );\n};\n\nexport default Modal;\n","export const SPEC_RATING_TOTAL = 5;\n","import { styled } from 'styled-components';\n\nimport clampLines from '#utils/clampLines';\n\nimport { TwoColumnLayout } from '../ProductComparison.styles';\n\nimport { HeadingProps, ValueProps } from './Table.types';\n\nexport const ComparisonTable = styled(TwoColumnLayout)`\n  --table-rows: ${({ $rows }) => $rows};\n\n  grid-template-rows:\n    [hero] repeat(2, min-content)\n    [specs] repeat(var(--table-rows), min-content);\n`;\n\nexport const Hero = styled.header`\n  grid-template-rows: subgrid;\n  grid-row: hero / span 2;\n  margin: 0;\n`;\n\nexport const ImageContainer = styled.div`\n  aspect-ratio: 3/2;\n\n  img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n`;\n\nexport const ProductTitle = styled.h2`\n  --line-height: 20px;\n  padding: ${({ theme }) => theme.spacing.x1_5}px\n    ${({ theme }) => theme.spacing.x1}px;\n  margin: 0;\n  color: ${({ theme }) => theme.color.ink.base};\n  font: ${({ theme }) => theme.textStyle.productComparison.table.font};\n  text-align: center;\n`;\n\nexport const ProductText = styled.div`\n  ${clampLines(2, '--line-height')};\n`;\n\nexport const List = styled.dl`\n  display: grid;\n  grid-template-rows: subgrid;\n  grid-row: specs / span var(--table-rows);\n  margin-block-start: 0;\n`;\n\nexport const Cell = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: ${({ theme }) => theme.spacing.x0_5}px;\n  padding: ${({ theme }) => theme.spacing.x1}px\n    ${({ theme }) => theme.spacing.x1_5}px;\n  border-bottom: 1px solid ${({ theme }) => theme.color.divider.light};\n  background-color: ${({ theme }) => theme.color.canvas.secondary};\n  text-align: center;\n\n  &:first-child {\n    border-top: 1px solid ${({ theme }) => theme.color.divider.light};\n  }\n`;\n\nexport const Key = styled.dt<HeadingProps>`\n  color: ${({ theme }) => theme.color.ink.base};\n  font: ${({ theme }) => theme.textStyle.productComparison.spec.heading};\n`;\n\nexport const Value = styled.dd<ValueProps>`\n  margin: 0;\n  color: ${({ theme }) => theme.color.ink.base};\n  font: ${({ theme }) => theme.textStyle.productComparison.spec.value};\n\n  &:empty {\n    &::before {\n      /* an em dash */\n      content: '\\u2014';\n    }\n  }\n`;\n\nexport const Price = styled.dd`\n  margin: 0;\n  color: ${({ theme }) => theme.color.ink.base};\n  font: ${({ theme }) => theme.textStyle.productComparison.spec.heading};\n`;\n","import { Item } from '../Table.types';\n\nexport const calculateSpecLength = (\n  items: Item[],\n  staticCellsLength: number,\n) => {\n  return items[0]?.productSpecs.length + staticCellsLength;\n};\n","import { LivePrice } from '#types/PageContext';\n\nexport const getLivePrice = (id: string, livePrices: LivePrice[]) => {\n  const livePrice = livePrices.find((livePrice) => livePrice.id === id);\n\n  return livePrice?.prices?.at(0)?.price || '';\n};\n","import { Fragment, FC } from 'react';\n\nimport { SIZE_SMALL } from '#components/Icon/Icon.constants';\nimport StarRating from '#components/StarRating';\n\nimport { getPriceWithoutDecimals } from '#utils/currency';\n\nimport { SPEC_RATING_TOTAL } from './Table.constants';\nimport {\n  ComparisonTable,\n  Hero,\n  ImageContainer,\n  List,\n  Price,\n  ProductText,\n  Cell,\n  Key,\n  Value,\n  ProductTitle,\n} from './Table.styles';\nimport { TableProps } from './Table.types';\nimport { calculateSpecLength } from './helpers/calculateSpecLength';\nimport { getLivePrice } from './helpers/getLivePrice';\n\n// i.e., best, rating, and price\nconst STATIC_CELLS_LENGTH = 3;\n\nconst Table: FC<TableProps> = ({ items, livePrices }) => {\n  const specLength = calculateSpecLength(items, STATIC_CELLS_LENGTH);\n\n  return (\n    <ComparisonTable $columns={items.length} $rows={specLength}>\n      {items.map(({ id, image, title, productSpecs, price, best, rating }) => (\n        <Fragment key={id}>\n          <Hero>\n            <ImageContainer>{image}</ImageContainer>\n            <ProductTitle>\n              <ProductText>{title}</ProductText>\n            </ProductTitle>\n          </Hero>\n          <List>\n            <Cell key=\"best\">\n              <Key>Best</Key>\n              <Value>{best}</Value>\n            </Cell>\n\n            <Cell key=\"rating\">\n              <Key>Rating</Key>\n              <Value>\n                <StarRating\n                  size={SIZE_SMALL}\n                  value={rating}\n                  total={SPEC_RATING_TOTAL}\n                />\n              </Value>\n            </Cell>\n\n            <Cell key=\"price\">\n              <Price>\n                {getPriceWithoutDecimals(getLivePrice(id, livePrices) || price)}\n              </Price>\n            </Cell>\n\n            {productSpecs.map(({ key, value }) => {\n              return (\n                <Cell key={key}>\n                  <Key>{key}</Key>\n                  <Value>{value}</Value>\n                </Cell>\n              );\n            })}\n          </List>\n        </Fragment>\n      ))}\n    </ComparisonTable>\n  );\n};\n\nexport default Table;\n","import { Item } from '../ProductComparison.types';\n\nexport const collectProductSpecKeys = (items: Item[]): string[] => {\n  const result = [] as string[];\n\n  items.forEach((product) => {\n    const productSpec = product.productSpecs;\n\n    productSpec.forEach((spec) => {\n      if (!result.includes(spec.key)) {\n        result.push(spec.key);\n      }\n    });\n  });\n\n  return result;\n};\n","import { ProductSpec } from '#components/ProductComparisonCommon/types';\n\nexport const normaliseProductSpecs = (\n  productSpec: ProductSpec[],\n  keys: string[],\n) => {\n  return keys.map((key) => {\n    const resultSpec: ProductSpec = {\n      key,\n      value: null,\n    };\n\n    const existingSpec = productSpec.find((spec) => {\n      return spec.key === key;\n    });\n\n    if (existingSpec) {\n      resultSpec.value = existingSpec.value;\n    }\n\n    return resultSpec;\n  });\n};\n","import MockImage from '#components/Image';\nimport {\n  BuyNow,\n  Item,\n  Review,\n  Specs,\n} from '#components/ProductComparison/ProductComparison.types';\n\nexport class ItemBuilder {\n  item = {\n    best: '',\n    buyNow: {\n      vendorLink: '',\n      isExternal: true,\n      isAvailable: true,\n    },\n    id: '',\n    image: <MockImage />,\n    price: '',\n    productSpecs: [] as Specs,\n    rating: 0,\n    readReview: {\n      anchorHref: '',\n      anchorId: '',\n    },\n    title: '',\n  } as Item;\n\n  best(best: string) {\n    this.item.best = best;\n\n    return this;\n  }\n\n  buyNow(buyNow: BuyNow) {\n    this.item.buyNow = buyNow;\n\n    return this;\n  }\n\n  id(id: string) {\n    this.item.id = id;\n\n    return this;\n  }\n\n  image(image: ReactNode) {\n    this.item.image = image;\n\n    return this;\n  }\n\n  price(price: string) {\n    this.item.price = price;\n\n    return this;\n  }\n\n  productSpecs(productSpecs: Specs) {\n    this.item.productSpecs = productSpecs;\n\n    return this;\n  }\n\n  rating(rating: number) {\n    this.item.rating = rating;\n\n    return this;\n  }\n\n  readReview(readReview: Review) {\n    this.item.readReview = readReview;\n\n    return this;\n  }\n\n  title(title: string) {\n    this.item.title = title;\n\n    return this;\n  }\n\n  build() {\n    return this.item;\n  }\n}\n","import { ItemBuilder } from '#components/ProductComparisonCommon/builders/ItemBuilder';\nimport { Product } from '#components/ProductComparisonCommon/types';\n\nimport { Item } from '../ProductComparison.types';\n\nexport const productsToItems = (products: Product[]): Item[] => {\n  return products.map((product) => {\n    return new ItemBuilder()\n      .best(product.bestFor)\n      .buyNow({\n        vendorLink: product.vendorLink,\n        isExternal: product.isExternal,\n        isAvailable: product.isAvailable,\n      })\n      .id(product.id)\n      .image(product.image)\n      .price(product.prettyPrice)\n      .rating(product.rating)\n      .readReview({\n        anchorHref: product.anchorHref,\n        anchorId: product.anchorId,\n      })\n      .title(product.title)\n      .productSpecs(product.productSpec)\n      .build();\n  });\n};\n","import { Product } from '#components/ProductComparisonCommon/types';\n\nimport { collectProductSpecKeys } from './collectProductSpecKeys';\nimport { normaliseProductSpecs } from './normaliseProductSpecs';\nimport { productsToItems } from './productsToItems';\n\nexport function createSelectedItems(\n  selectedItems: string[],\n  products: Product[],\n) {\n  const items = productsToItems(products);\n\n  const comparedItems = items.filter((item) => {\n    return selectedItems.includes(item.id);\n  });\n\n  const keys = collectProductSpecKeys(comparedItems);\n\n  return comparedItems.map((item) => {\n    return {\n      ...item,\n      productSpecs: normaliseProductSpecs(item.productSpecs, keys),\n    };\n  });\n}\n"],"names":["Wrapper","styled","laptop","Laptop","__name","Story","jsx","BUY_NOW_TEXT","REVIEW_TEXT","TwoColumnLayout","div","withConfig","componentId","props","theme","spacing","x2","device","x4","ButtonGroup","x3","ItemButtons","getUpdatedLink","id","livePrices","livePrice","find","prices","at","link","CTAs","items","onReadReviewClick","onBuyNowClick","title","price","buyNow","readReview","Button","BUTTON_AS_ANCHOR","CLOSE_BUTTON_LABEL","Boundary","color","divider","light","dimensions","borderRadius","x1_5","canvas","card","Header","x1","secondary","CloseButton","IconButton","attrs","svg","CloseSVG","size","isCosy","Body","customScrollbar","Title","textStyle","productComparison","modal","base","large","Footer","footer","Modal","children","className","isHidden","returnFocus","hideProductModal","ModalPageSpecific","jsxs","SPEC_RATING_TOTAL","ComparisonTable","$rows","Hero","header","ImageContainer","ProductTitle","h2","ink","table","font","ProductText","clampLines","List","dl","Cell","x0_5","Key","dt","spec","heading","Value","dd","value","Price","calculateSpecLength","staticCellsLength","productSpecs","length","getLivePrice","STATIC_CELLS_LENGTH","Table","specLength","image","best","rating","StarRating","SIZE_SMALL","getPriceWithoutDecimals","key","collectProductSpecKeys","result","forEach","product","includes","push","normaliseProductSpecs","productSpec","keys","map","resultSpec","existingSpec","ItemBuilder","item","vendorLink","isExternal","isAvailable","MockImage","anchorHref","anchorId","build","productsToItems","products","bestFor","prettyPrice","createSelectedItems","selectedItems","comparedItems","filter"],"mappings":"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"}