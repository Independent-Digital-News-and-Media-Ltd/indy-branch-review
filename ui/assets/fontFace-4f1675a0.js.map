{"version":3,"file":"fontFace-4f1675a0.js","sources":["../../../src/utils/storybook.ts","../../../src/utils/typography.ts","../../../src/theme/fontFace.ts"],"sourcesContent":["declare global {\n  const __STORYBOOK_PREVIEW__: unknown;\n}\n\nexport const isStorybook = () => {\n  try {\n    return !!__STORYBOOK_PREVIEW__;\n  } catch {\n    return false;\n  }\n};\n","export type TFallback = {\n  name: string;\n  fallback: string;\n  style?: string;\n  weight?: string | number;\n  ascent?: string;\n  descent?: string;\n  lineGap?: string;\n  size?: string;\n};\n\nexport function makeFallback({\n  name,\n  fallback,\n  style,\n  weight,\n  ascent,\n  descent,\n  lineGap,\n  size,\n}: TFallback) {\n  return `\n@font-face {\n  font-family: \"${name}\";\n  font-style: ${style || 'normal'};\n  font-weight: ${weight || 'normal'};\n  ascent-override: ${ascent || 'normal'};\n  descent-override: ${descent || 'normal'};\n  line-gap-override: ${lineGap || '0%'};\n  size-adjust: ${size || '100%'};\n  src: local(${fallback});\n}`;\n}\n\nexport type TFontFace = {\n  display?: string;\n  family?: string;\n  src: string;\n  style?: string;\n  weight?: string | number;\n  fallback?: {\n    font: string;\n    ascent?: string;\n    descent?: string;\n    lineGap?: string;\n    size?: string;\n  };\n};\n\nexport function makeFontFace(name: string, members: TFontFace[]) {\n  return members\n    .map(\n      ({\n        display,\n        family,\n        src,\n        style,\n        weight,\n        fallback: { font: fallback, ...rest } = {},\n      }) => `\n@font-face {\n  font-display: ${display || 'swap'};\n  font-family: \"${family || name}\";\n  font-style: ${style || 'normal'};\n  font-weight: ${weight || 'normal'};\n  src: url(${src}) format('woff2');\n}${\n        fallback\n          ? makeFallback({\n              name: `${name} Fallback`,\n              fallback,\n              style,\n              weight,\n              ...rest,\n            })\n          : ''\n      }`,\n    )\n    .join('\\n');\n}\n\nexport type TFontConfig = {\n  [key: string]: TFontFace[];\n};\n\nexport const generateFontsFromConfig = (config: TFontConfig) =>\n  Object.entries(config).map(([key, variants]) => makeFontFace(key, variants));\n","import { thin, medium, black } from '#theme/fontWeights';\n\nimport { isStorybook } from '#utils/storybook';\nimport { generateFontsFromConfig } from '#utils/typography';\n\n// fonts not always served from root dependent on where storybook hosted\nconst fontPath = isStorybook() ? 'fonts/' : '/fonts/';\n\nconst fontLocation = process.env.FONT_SOURCE || fontPath;\n\n/**\n * Georgia, despite being a serif font is being used as the fallback for both\n * serif and sans as it is more similar in character width to both of the\n * Independent's fonts.\n */\nconst websafeFallback = 'Georgia';\n\nexport const fontConfig = {\n  'Indy Serif': [\n    {\n      src: `${fontLocation}Independent-Serif-Regular.woff2`,\n      fallback: {\n        font: websafeFallback,\n        lineGap: '4%',\n        size: '101%',\n      },\n    },\n    {\n      src: `${fontLocation}Independent-Serif-Regular-Italic.woff2`,\n      style: 'italic',\n      fallback: {\n        font: websafeFallback,\n        lineGap: '7%',\n        size: '98.5%',\n      },\n    },\n    {\n      src: `${fontLocation}Independent-Serif-Medium.woff2`,\n      weight: 'bold',\n      fallback: {\n        font: websafeFallback,\n        size: '103%',\n        ascent: '94%',\n        descent: '21%',\n      },\n    },\n    {\n      src: `${fontLocation}Independent-Serif-Medium-Italic.woff2`,\n      style: 'italic',\n      weight: 'bold',\n      fallback: {\n        font: websafeFallback,\n        lineGap: '4%',\n        size: '101%',\n      },\n    },\n  ],\n  'Indy Sans': [\n    {\n      src: `${fontLocation}Independent-Sans-Regular.woff2`,\n      fallback: {\n        font: websafeFallback,\n        size: '96%',\n        ascent: '97%',\n        descent: '28%',\n      },\n    },\n    {\n      src: `${fontLocation}Independent-Sans-Medium.woff2`,\n      weight: 'bold',\n      fallback: {\n        font: websafeFallback,\n        size: '99%',\n        ascent: '97%',\n        descent: '28%',\n      },\n    },\n  ],\n  'Indy Sans CAPS': [\n    {\n      src: `${fontLocation}Independent-Sans-Medium.woff2`,\n      weight: 'bold',\n      fallback: {\n        font: 'Arial',\n        size: '95%',\n        ascent: '90%',\n        descent: '17%',\n      },\n    },\n  ],\n};\n\nexport const editionFontConfig = {\n  'Indy Sans': [\n    {\n      src: `${fontLocation}Independent-Sans-Regular.woff2`,\n    },\n    {\n      src: `${fontLocation}Independent-Sans-Light.woff2`,\n      weight: thin,\n    },\n    {\n      src: `${fontLocation}Independent-Sans-Medium.woff2`,\n      weight: medium,\n    },\n    {\n      src: `${fontLocation}Independent-Sans-Bold.woff2`,\n      weight: 'bold',\n    },\n    {\n      src: `${fontLocation}Independent-Sans-Black.woff2`,\n      weight: black,\n    },\n    {\n      src: `${fontLocation}Independent-Hairline-Final.woff2`,\n      family: 'Indy Hairline',\n    },\n    {\n      src: `${fontLocation}Independent-Sans-Heavy.woff2`,\n      family: 'Indy Sans Heavy',\n      weight: 'bolder',\n    },\n    {\n      src: `${fontLocation}Independent-Edition-Sans-Light.woff2`,\n      display: 'block',\n      family: 'Indy-Sans-Light',\n      weight: thin,\n    },\n    {\n      src: `${fontLocation}Independent-Edition-Sans-Bold.woff2`,\n      display: 'block',\n      family: 'Indy-Sans-Bold',\n      weight: 'bold',\n    },\n  ],\n  'Indy Serif': [\n    {\n      src: `${fontLocation}Independent-Serif-Medium.woff2`,\n      weight: medium,\n    },\n    {\n      src: `${fontLocation}Independent-Serif-Medium-Italic.woff2`,\n      style: 'italic',\n      weight: medium,\n    },\n    {\n      src: `${fontLocation}Independent-Serif-Light.woff2`,\n      weight: thin,\n    },\n    {\n      src: `${fontLocation}Independent-Serif-Light-Italic.woff2`,\n      style: 'italic',\n      weight: thin,\n    },\n    {\n      src: `${fontLocation}Independent-Edition-Serif-Regular.woff2`,\n      display: 'block',\n      family: 'Indy-Serif-Regular',\n    },\n    {\n      src: `${fontLocation}Independent-Edition-Serif-Light.woff2`,\n      display: 'block',\n      family: 'Indy-Serif-Light',\n      weight: thin,\n    },\n    {\n      src: `${fontLocation}Independent-Edition-Serif-Medium.woff2`,\n      display: 'block',\n      family: 'Indy-Serif-Medium',\n    },\n    {\n      src: `${fontLocation}Independent-Edition-Serif-Light-Italic.woff2`,\n      display: 'block',\n      family: 'Indy-Serif-Light-Italic',\n      style: 'italic',\n      weight: thin,\n    },\n    {\n      src: `${fontLocation}Independent-Edition-Serif-Bold.woff2`,\n      display: 'block',\n      family: 'Indy-Serif-Bold',\n      style: 'italic',\n      weight: thin,\n    },\n  ],\n};\n\nexport const indyFonts = generateFontsFromConfig(fontConfig).join('\\n');\nexport const editionFonts =\n  generateFontsFromConfig(editionFontConfig).join('\\n');\n"],"names":["isStorybook","__STORYBOOK_PREVIEW__","makeFallback","name","fallback","style","weight","ascent","descent","lineGap","size","makeFontFace","members","map","display","family","src","font","rest","join","generateFontsFromConfig","config","Object","entries","key","variants","fontPath","fontLocation","process","FONT_SOURCE","websafeFallback","fontConfig","editionFontConfig","thin","medium","black","indyFonts"],"mappings":"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"}